{"version":3,"sources":["App.js","strings.js","robot.gif","bloomfilter.js","serviceWorker.js","index.js","wordcastlogo_white.svg"],"names":["CancelToken","axios","strings","source","LocalizedStrings","data","CHANNEL","SquareData","x","y","type","Object","C_Users_marku_Desktop_wordcast_react_wordcast_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__","this","selected","letter","tempLetter","isSelected","Player","name","id","androidId","score","letters","Array","turns","clientIndex","isPassAlong","Letter","value","App","props","context","_this","C_Users_marku_Desktop_wordcast_react_wordcast_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","C_Users_marku_Desktop_wordcast_react_wordcast_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","call","_handleKeyDown","e","keyCode","setUpBloom","state","gameState","langIndex","specialCoords","Boards","dist","setUpBoard","initializeLetterPool","addPlayer","moveCursor","rand","Math","floor","random","letterPool","length","gameGrid","cursorLocation","splice","setState","width","height","players","curTurn","turnCount","noScoreCount","isFirstLetterDown","boardIndex","isDict","isLoadingDict","loadingProgress","isPro","locale","originTempSquare","originAxis","curDict","turnLog","String","format","args","prototype","slice","arguments","replace","match","number","handleMessage","bind","C_Users_marku_Desktop_wordcast_react_wordcast_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__","updateDimensions","componentDidMount","updateSenders","i","ii","result","charactersLength","charAt","_this2","path","Distributions","dictPath","fetch","then","r","text","splitDictRaw","split","console","log","splitDict","bloom","BloomFilter","item","toLowerCase","push","add","require","falsecount","truecount","test","gib","makeid","percentage1","percentage2","testtrue","testfalse","blob","serialize","sb","bytesToString","bf","stringToBytes","bf2","Buffer","from","swap16","deserialize","string","toString","buffer","file","Blob","window","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","arrayBuffer","uint8","Uint8Array","_this3","addEventListener","_setTimeout","b","idleTime","ctx","cast","framework","CastReceiverContext","getInstance","options","CastReceiverOptions","disableIdleTimeout","setInterval","stop","customNamespaces","assign","system","MessageType","JSON","addCustomMessageListener","customEvent","senderId","EventType","SENDER_CONNECTED","event","SENDER_DISCONNECTED","handleDisconnect","start","message","connectedSenders","getSenders","debugstring","debugOnScreen","player","findPlayers","index","indexOf","sendToast","playerdisconnect","undefined","msg","sendState","sendHurryUp","enablePro","isPassAlongPlayer","versionCode","startGame","switchLanguage","switchBoard","switchDict","cancelDictDownload","switchPassAlong","removePlayer","cancelGame","dir","placeLetter","jokerValue","endTurn","swapLetters","swapIndices","resetTempLetters","json","sendCustomMessage","sendJoinSuccess","sendGameStarted","endGame","content","findPlayer","playercancel","cancel","autoStart","_this4","dictStatus","total","dictSize","get","responseType","cancelToken","c","onDownloadProgress","progressEvent","percent","loaded","response","dictloaded","catch","err","dictfailed","playersToRemove","indicesToRemove","passAlongIndex","allow","swapdeny","prevLetter","stringify","endTurnNoScore","swapmin","targetPlayer","subtractRemainingLetters","playersSorted","sort","scores","scoresString","sum","turnArray","nextTurn","tempSquares","getTempSquares","isBotTurn","bonusScore","words","wordStrings","isConnected","adjSquares","getAdjSquares","word","getAdjWord","duplicateFound","iii","every","wordString","w","tempconnect","isOnCenterSquare","square","tempcenter","check","checkWords","illegalWords","illegalString","hasDoubles","curLetter","dualletters","totalScore","wordMultiplier","letterScore","drawLetters","isEmpty","playerLetters","invalidword","invalidwords","includes","_this5","timer","getRandomWords","clearInterval","fixedSquares","getFixedSquares","curSquare","space","nextSquares","posEndFound","negEndFound","nextSquare","nextX","nextY","isNull","tries","jokerrand","availableLetters","isTurn","turnName","turnLogJson","isDeviceTurn","doBotTurn","sendPlayerLetters","adjSquare","originFound","isLegal","squareinuse","tempstraightline","tempconnected","offset","oldSquare","forcestart","addbot","isBot","drawLettersInit","playerNames","playerIndex","diff","maxplayers","setLanguage","newPlayers","newPlayer","sendPassAlongJoinSuccess","removeIndex","indices","langs","dictInfo","boards","langsJson","boardsJson","receiverVersion","alertTitle","Changelog","alert","innerWidth","innerHeight","line","_this6","react__WEBPACK_IMPORTED_MODULE_6___default","className","map","renderSquare","Square","remaining","isLobby","_this7","classname","winstring","max","maxindex","winwarning","drawwarning","drawand","noScoreString","noscorewarning","playersTitle","playerstitle","waiting","renderPlayer","isBorder","isActive","src","robotemoji","progress","language","progresstext","dictloading","dictprocessing","style","_this8","scale","min","transform","renderSquareLine","renderRightInfo","renderLeftInfo","wordcastlogo","renderProgressBar","board","Component","_React$Component","_this9","multiplierText","multiplierNum","lettertitle","wordtitle","isLetter","isTempLetter","C_Users_marku_Desktop_wordcast_react_wordcast_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_marku_Desktop_wordcast_react_wordcast_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_0__","key","nextProps","oldSelect","multiplierclassname","letterStyle","marginLeft","margin","React","__webpack_require__","d","__webpack_exports__","en","de","es","hr","module","exports","fnv_1a","typedArrays","ArrayBuffer","m","k","n","ceil","kbytes","LN2","array","Uint16Array","Uint32Array","kbuffer","buckets","Int32Array","_locations","popcnt","v","seed","charCodeAt","fnv_multiply","fnv_mix","locations","l","size","bits","bucketLen","target","writeUInt16BE","writeInt32BE","hashes","readUInt16BE","count","readInt32BE","arr","out","fromCharCode","str","code","stringToBytes16","Boolean","location","hostname","ReactDOM","render","react_default","getElementById","serviceWorker","ready","registration","unregister","p"],"mappings":"0gVAgBMA,EAAcC,IAAMD,YAItBE,GAHWF,EAAYG,SAGb,IAAIC,IAAiBC,MAG/BC,EAAU,+CAORC,EACJ,SAAAA,EAAYC,EAAGC,EAAGC,GAAOC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GACvBM,KAAKL,EAAIA,EACTK,KAAKJ,EAAIA,EACTI,KAAKH,KAAOA,EACZG,KAAKC,UAAW,EAChBD,KAAKE,OAAS,KACdF,KAAKG,WAAa,KAClBH,KAAKI,YAAa,GAGhBC,EACJ,SAAAA,EAAYC,EAAMC,EAAIC,GAAYV,OAAAC,EAAA,EAAAD,CAAAE,KAAAK,GAChCL,KAAKM,KAAOA,EACZN,KAAKO,GAAKA,EACVP,KAAKQ,UAAYA,EACjBR,KAAKS,MAAQ,EACbT,KAAKU,QAAU,IAAIC,MACnBX,KAAKY,MAAQ,IAAID,MACjBX,KAAKa,YAAc,EACnBb,KAAKc,aAAc,GAIjBC,EACJ,SAAAA,EAAYC,EAAOP,GAAQX,OAAAC,EAAA,EAAAD,CAAAE,KAAAe,GACzBf,KAAKgB,MAAQA,EACbhB,KAAKS,MAAQA,GAMXQ,cACJ,SAAAA,EAAYC,EAAOC,GAAS,IAAAC,EAAA,OAAAtB,OAAAC,EAAA,EAAAD,CAAAE,KAAAiB,IAC1BG,EAAAtB,OAAAuB,EAAA,EAAAvB,CAAAE,KAAAF,OAAAwB,EAAA,EAAAxB,CAAAmB,GAAAM,KAAAvB,KAAMkB,KA0ZTM,eAAiB,SAACC,GAEhB,OAAOA,EAAEC,SAEP,KAAK,IAEH,YADAN,EAAKO,aAGP,KAAK,IAYJ,OAXAP,EAAKQ,MAAMC,UAAY,EACvBT,EAAKQ,MAAME,UAAY,EACvBV,EAAKW,cAAgBC,EAAO,IAAIC,KAChCb,EAAKc,aACLd,EAAKe,uBACLf,EAAKgB,UAAU,OAAQ,IAAK,KAAK,GAAO,EAAM,IAC9ChB,EAAKgB,UAAU,UAAW,IAAK,KAAK,GAAO,EAAM,IACjDhB,EAAKgB,UAAU,WAAY,IAAK,KAAK,GAAO,EAAM,IAClDhB,EAAKgB,UAAU,QAAS,IAAK,KAAK,GAAO,EAAM,IAC/ChB,EAAKgB,UAAU,WAAY,IAAK,KAAK,GAAO,EAAM,SAClDhB,EAAKgB,UAAU,YAAa,IAAK,KAAK,GAAO,EAAM,IAGpD,KAAK,GAEH,YADAhB,EAAKiB,WAAW,QAElB,KAAK,GAEH,YADAjB,EAAKiB,WAAW,MAElB,KAAK,GAEH,YADAjB,EAAKiB,WAAW,SAElB,KAAK,GAEH,YADAjB,EAAKiB,WAAW,QAKpB,IAAIC,EAAOC,KAAKC,MAAMD,KAAKE,SAASrB,EAAKsB,WAAWC,QACpCvB,EAAKwB,SAASxB,EAAKQ,MAAMiB,eAAe,IAAIzB,EAAKQ,MAAMiB,eAAe,IAC5E3C,OAASkB,EAAKsB,WAAWJ,GACnClB,EAAKsB,WAAWI,OAAOR,EAAM,GAC7BlB,EAAK2B,SAAS,CAAClB,UAAWT,EAAKQ,MAAMC,aAlcpCT,EAAKQ,MAAQ,CACXoB,MAAO,EACPC,OAAQ,EACRC,QAAS,GACTrB,UAAY,EACZgB,eAAgB,CAAC,EAAE,GACnBM,QAAS,EACTC,UAAW,EACXC,aAAc,EACdC,mBAAmB,EACnBxB,UAAW,EACXyB,WAAY,EACZC,QAAQ,EACRC,eAAe,EACfC,gBAAiB,EAEjBC,OAAO,EACPC,OAAQ,MAGVxC,EAAKyC,iBAAmB,KACxBzC,EAAK0C,WAAa,EAAE,GAAG,GA6BvB1C,EAAK2C,QAAU,CAAC,KAAM,MACtB3C,EAAK4C,QAAU,IAAIrD,MASdsD,OAAOC,SACVD,OAAOC,OAAS,SAASA,GACvB,IAAIC,EAAOxD,MAAMyD,UAAUC,MAAM9C,KAAK+C,UAAW,GACjD,OAAOJ,EAAOK,QAAQ,WAAY,SAASC,EAAOC,GAChD,MAA8B,oBAAhBN,EAAKM,GACfN,EAAKM,GACLD,MAOVpD,EAAKW,cAAgBC,EAAOZ,EAAKQ,MAAM2B,YAAYtB,KACnDb,EAAKc,aAGLd,EAAKQ,MAAMsB,QAAU,IAAIvC,MAEzBS,EAAKsD,cAAgBtD,EAAKsD,cAAcC,KAAnB7E,OAAA8E,EAAA,EAAA9E,CAAAsB,IACrBA,EAAKiB,WAAajB,EAAKiB,WAAWsC,KAAhB7E,OAAA8E,EAAA,EAAA9E,CAAAsB,IAClBA,EAAKyD,iBAAmBzD,EAAKyD,iBAAiBF,KAAtB7E,OAAA8E,EAAA,EAAA9E,CAAAsB,IACxBA,EAAK0D,kBAAoB1D,EAAK0D,kBAAkBH,KAAvB7E,OAAA8E,EAAA,EAAA9E,CAAAsB,IACzBA,EAAKgB,UAAYhB,EAAKgB,UAAUuC,KAAf7E,OAAA8E,EAAA,EAAA9E,CAAAsB,IACjBA,EAAK2D,cAAgB3D,EAAK2D,cAAcJ,KAAnB7E,OAAA8E,EAAA,EAAA9E,CAAAsB,IAtFKA,4EA0F1BpB,KAAK4C,SAAW,IAAIjC,MAAM,IAC1B,IAAI,IAAIqE,EAAI,EAAGA,EAAI,GAAIA,IAAI,CACzBhF,KAAK4C,SAASoC,GAAK,IAAIrE,MAAM,IAC7B,IAAI,IAAIsE,EAAK,EAAGA,EAAK,GAAIA,IACvBjF,KAAK4C,SAASoC,GAAGC,GAAO,IAAIvF,EAAWsF,EAAEC,EAAG,GAIhDjF,KAAK0C,WAAa,IAAI/B,MAEtB,IAAQqE,EAAI,EAAGA,EAAIhF,KAAK+B,cAAcY,OAAQqC,IAC5C,IAAQC,EAAK,EAAGA,EAAKjF,KAAK+B,cAAciD,GAAGrC,OAAQsC,IACjDjF,KAAK4C,SAAS5C,KAAK+B,cAAciD,GAAGC,GAAI,IAAIjF,KAAK+B,cAAciD,GAAGC,GAAI,IAAIpF,KAAOmF,EAAE,iCAIlFrC,GAIN,IAHA,IAAIuC,EAAmB,GAEnBC,EADmB,yCACWxC,OACxBqC,EAAI,EAAGA,EAAIrC,EAAQqC,IAC1BE,GAHoB,yCAGCE,OAAO7C,KAAKC,MAAMD,KAAKE,SAAW0C,IAE1D,OAAOD,uCAEG,IAAAG,EAAArF,KAOPA,KAAK4B,MAAME,UAJK,EAKhB9B,KAAKmC,uBACL,IAAImD,EAAOC,EAAcvF,KAAK4B,MAAME,WAAW0D,SAO9CC,MAAMH,GACLI,KAAK,SAACC,GAAD,OAAOA,EAAEC,SACdF,KAAK,SAAAE,GAEJ,IAAIC,EAAeD,EAAKE,MAAM,MAC9BC,QAAQC,IAAIH,GAYZ,IAXA,IAAII,EAAY,IAAItF,MAEhBuF,EAAQ,IAAIC,IAAYA,YAC1B,SACA,IAOMnB,EAAI,EAAGA,EAAIa,EAAalD,OAAQqC,IAAI,CAC1C,IAAIoB,EAAOP,EAAab,GAAGqB,cA6BzBJ,EAAUK,KAAKF,GAEfF,EAAMK,IAAIH,GAMdL,QAAQC,IAAI,gBAAkBC,EAAUtD,QACxCoD,QAAQC,IAAIC,GAOKO,EAAQ,IAAnB,IAqBFC,EAAa,EACbC,EAAY,EAChB,IAAQ1B,EAAI,EAAGA,EAAIiB,EAAUtD,OAAQqC,IAAI,CACnCoB,EAAOH,EAAUjB,GAArB,IACI2B,EAAOT,EAAMS,KAAKP,GAElBQ,EAAMvB,EAAKwB,OAAO,GAElBF,IACFF,GAAc,GAFJP,EAAMS,KAAKC,KAMrBF,GAAa,EACbX,QAAQC,IAAIY,IAOhBb,QAAQC,IAAI,oBAAsBS,GAClCV,QAAQC,IAAI,oBAAsBU,GAClC,IAAII,EAAeL,EAAaR,EAAUtD,OAAU,IAChDoE,EAAeL,EAAYT,EAAUtD,OAAU,IACnDoD,QAAQC,IAAI,4BAA8Bc,GAC1Cf,QAAQC,IAAI,4BAA8Be,GAK1C,IAAIC,EAAWd,EAAMS,KA/HH,gBAgIdM,EAAYf,EAAMS,KA/HH,WAgInBZ,QAAQC,IAAI,cAAgBgB,EAAW,gBAAkBC,GASzD,IAAIC,EAAOhB,EAAMiB,YAGjBpB,QAAQC,IAAIkB,GAGZ,IAAIE,EAAKjB,IAAYA,YAAYkB,cAAcH,GAC3CI,EAAKnB,IAAYA,YAAYoB,cAAcH,GAC3CI,EAAMC,EAAOC,KAAKN,EAAG,WAEzBI,EAAMA,EAAIG,SACV5B,QAAQC,IAAIsB,GAOTN,GADAd,EAAQC,IAAYA,YAAYyB,YAAYJ,IAC3Bb,KA5JF,gBA6JfM,EAAYf,EAAMS,KA5JF,WA6JpBZ,QAAQC,IAAI,cAAgBgB,EAAW,gBAAkBC,GAExDlB,QAAQC,IAAI,SAUZ,IAAI6B,GADJX,EAAOA,EAAKS,UACMG,SAAS,WACvBC,EAASN,EAAOC,KAAKG,EAAQ,WACjC9B,QAAQC,IAAI+B,GACZA,EAASA,EAAOJ,SAChB5B,QAAQC,IAAI+B,GAGZ,IAGIC,EAAO,IAAIC,KAAK,CAHTX,GAIA,CAAEzH,KAAM,+BAEnB,GAAIqI,OAAOC,UAAUC,iBACjBF,OAAOC,UAAUC,iBAAiBJ,EANvB,YAOV,CACD,IAAIK,EAAIC,SAASC,cAAc,KACvBC,EAAMC,IAAIC,gBAAgBV,GAElCK,EAAEM,KAAOH,EACTH,EAAEO,SAZS,OAaXN,SAASO,KAAKC,YAAYT,GAC1BA,EAAEU,QACFC,WAAW,WACPV,SAASO,KAAKI,YAAYZ,GAC1BH,OAAOO,IAAIS,gBAAgBV,IAC5B,GAOHxB,GADAd,EAAQC,IAAYA,YAAYyB,YAAYG,IAC3BpB,KA3MH,gBA4MdM,EAAYf,EAAMS,KA3MH,WA4MnBZ,QAAQC,IAAI,cAAgBgB,EAAW,gBAAkBC,GAG3Cf,EAAMiB,YACpB1B,MAAM,iBAELC,KAAK,SAACC,GAAD,OAAOA,EAAEwD,gBACdzD,KAAK,SAAAE,GAEL,IAAIwD,EAAQ,IAAIC,WAAWzD,GAC3BG,QAAQC,IAAIoD,GAWX,IAAIlC,EAAOO,EAAOC,KAAK9B,EAAM,WAS3BG,QAAQC,IAAIkB,GACd,IAAIhB,EAAQC,IAAYA,YAAYyB,YAAYV,GAC5CF,EAAWd,EAAMS,KA7OL,gBA8OZM,EAAYf,EAAMS,KA7OL,WA8OjBZ,QAAQC,IAAI,cAAgBgB,EAAW,gBAAkBC,GAIzD,IAFA,IAAIR,EAAa,EACbC,EAAY,EACR1B,EAAI,EAAGA,EAAIiB,EAAUtD,OAAQqC,IAAI,CACvC,IAAIoB,EAAOH,EAAUjB,GACjB2B,EAAOT,EAAMS,KAAKP,GAElBQ,EAAMvB,EAAKwB,OAAO,GAElBF,IACFF,GAAc,GAFJP,EAAMS,KAAKC,KAMrBF,GAAa,GAIjBX,QAAQC,IAAI,yBAA2BS,GACvCV,QAAQC,IAAI,yBAA2BU,GACvC,IAAII,EAAeL,EAAaR,EAAUtD,OAAU,IAChDoE,EAAeL,EAAYT,EAAUtD,OAAU,IACnDoD,QAAQC,IAAI,iCAAmCc,GAC/Cf,QAAQC,IAAI,iCAAmCe,mDAyFrC,IAAAuC,EAAAtJ,KACjBA,KAAK6E,mBACLqD,OAAOqB,iBAAiB,SAAUvJ,KAAK6E,kBAIvCyD,SAASiB,iBAAiB,UAAWvJ,KAAKwB,gBAG1C0G,OAAOsB,YAActB,OAAOc,WAC5Bd,OAAOc,WAAa,SAASX,EAAGoB,KAIhC,IAAIC,EAAW,EAIf1J,KAAK2J,IAAMzB,OAAO0B,KAAKC,UAAUC,oBAAoBC,cACrD,IAAIC,EAAU,IAAI9B,OAAO0B,KAAKC,UAAUI,oBAExCD,EAAQE,oBAAqB,EAGVC,YAAY,YAC3BT,GAAsB,GACP,IACXJ,EAAKK,IAAIS,QAEZ,KAILJ,EAAQK,iBAAmBvK,OAAOwK,OAAO,IACzCN,EAAQK,iBAAiB5K,GAAWyI,OAAO0B,KAAKC,UAAUU,OAAOC,YAAYC,KAE7E,IAAI/F,EAAgB1E,KAAK0E,cACzB1E,KAAK2J,IAAIe,yBAAyBjL,EAAS,SAASkL,GAChDjB,EAAW,EACXhF,EAAciG,EAAYnL,KAAMmL,EAAYC,SAAUD,EAAYnL,KAAKe,MAE3EP,KAAK2J,IAAIJ,iBAAiBrB,OAAO0B,KAAKC,UAAUU,OAAOM,UAAUC,iBAC7D,SAAAC,MAGJ/K,KAAK2J,IAAIJ,iBAAiBrB,OAAO0B,KAAKC,UAAUU,OAAOM,UAAUG,oBAC7D,SAAAD,GACAzB,EAAK2B,iBAAiBF,EAAMH,YAEhC5K,KAAK2J,IAAIuB,MAAMlB,yCAOHmB,GAEZpF,QAAQC,IAAImF,yCAGA5K,GACZP,KAAKoL,iBAAmBpL,KAAK2J,IAAI0B,aAEjC,IADA,IAAIC,EAAc,GACVtG,EAAI,EAAGA,EAAIhF,KAAKoL,iBAAiBzI,OAAQqC,IAC/CsG,GAAetL,KAAKoL,iBAAiBpG,GAAGzE,GAAK,KAE/CP,KAAKuL,cAAc,6BAA+BhL,EAAK,qBAAuB+K,4CAG/D/K,GACf,IAAI,IAAIyE,EAAI,EAAGA,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IAAI,CAEhD,IADIwG,EAASxL,KAAK4B,MAAMsB,QAAQ8B,IACtBzE,IAAMA,GACa,GAAxBP,KAAK4B,MAAMC,UAAe,CAG3B,IADA,IAAIqB,EAAUlD,KAAKyL,YAAYD,EAAOhL,WAC9ByE,EAAK,EAAGA,EAAK/B,EAAQP,OAAQsC,IAAK,CACxC,IAAIuG,EAAStI,EAAQ+B,GACjByG,EAAQ1L,KAAK4B,MAAMsB,QAAQyI,QAAQH,GACvCxL,KAAK4B,MAAMsB,QAAQJ,OAAO4I,EAAO,GAanC1L,KAAK4L,UAAU3H,OAAOC,OAAO7E,EAAQwM,iBAAkBL,EAAOlL,WAAOwL,GACrE9L,KAAK+C,SAAS,CAACG,QAASlD,KAAK4B,MAAMsB,kDAe7B6I,EAAKxL,EAAIC,GACrBR,KAAK+E,cAAcxE,GACL,SAAXwL,EAAIA,KACH/L,KAAKgM,UAAUzL,EAAIC,GAET,WAAXuL,EAAIA,KACH/L,KAAKiM,cAEK,aAAXF,EAAIA,KACH/L,KAAKkM,YAGkB,GAAxBlM,KAAK4B,MAAMC,YACE,QAAXkK,EAAIA,KACH/L,KAAKoC,UAAU2J,EAAIzL,KAAMC,EAAIC,EAAWuL,EAAIpI,MAAOoI,EAAII,kBAAmBJ,EAAIK,YAAaL,EAAInI,QAErF,aAAXmI,EAAIA,KACH/L,KAAKqM,UAAU9L,EAAIC,GAAW,GAAO,GAE3B,sBAAXuL,EAAIA,KACH/L,KAAKqM,UAAU9L,EAAIC,GAAW,GAAM,GAE1B,gBAAXuL,EAAIA,KACH/L,KAAKqM,UAAU9L,EAAIC,GAAW,GAAM,GAE1B,YAAXuL,EAAIA,KACH/L,KAAKsM,eAAeP,EAAIL,OAEd,SAAXK,EAAIA,KACH/L,KAAKuM,YAAYR,EAAIL,OAEX,QAAXK,EAAIA,KACH/L,KAAKwM,WAAWT,EAAIvI,QAAQ,GAElB,kBAAXuI,EAAIA,KACH/L,KAAKyM,qBAEK,aAAXV,EAAIA,KACH/L,KAAK0M,gBAAgBX,EAAIjL,YAAaP,EAAIC,GAEhC,gBAAXuL,EAAIA,KACH/L,KAAK2M,aAAaZ,EAAIL,MAAOnL,EAAIC,IAGzB,UAAXuL,EAAIA,KACH/L,KAAK4M,WAAWpM,GAGY,GAA7BR,KAAK4B,MAAMsB,QAAQP,QAAuC,GAAxB3C,KAAK4B,MAAMC,WAE7CtB,GAAMP,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAAS5C,KAElC,QAAXwL,EAAIA,KACH/L,KAAKqC,WAAW0J,EAAIc,KAEV,SAAXd,EAAIA,KACL/L,KAAK8M,YAAYf,EAAIL,MAAOK,EAAIgB,WAAYxM,GAEhC,WAAXwL,EAAIA,KACH/L,KAAKgN,QAAQzM,GAEH,QAAXwL,EAAIA,KACH/L,KAAKiN,YAAYlB,EAAImB,YAAa3M,GAExB,SAAXwL,EAAIA,KACH/L,KAAKmN,uDAIA3M,GAET,IADA,IAAIgL,EAAS,KACLxG,EAAI,EAAGA,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IACzChF,KAAK4B,MAAMsB,QAAQ8B,GAAGxE,WAAaA,IACpCgL,EAASxL,KAAK4B,MAAMsB,QAAQ8B,IAGhC,OAAOwG,sCAGGhL,GAEV,IADA,IAAI0C,EAAU,IAAIvC,MACVqE,EAAI,EAAGA,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IAC5C,GAAGhF,KAAK4B,MAAMsB,QAAQ8B,GAAGxE,WAAaA,EAAU,CAC9C,IAAIgL,EAASxL,KAAK4B,MAAMsB,QAAQ8B,GAChC9B,EAAQoD,KAAKkF,GAGjB,OAAOtI,oCAGC3C,EAAIC,GAGTR,KAAK4B,MAAM+B,OACZ3D,KAAKkM,YAGP,IAAIhJ,EAAUlD,KAAKyL,YAAYjL,GAC/B,GAAG0C,EAAQP,OAAS,GACfO,EAAQ,GAAGpC,YAAY,CACxB,IAAIsM,EAAO,CAACrB,IAAM,YAAYjL,aAAc,GAC5Cd,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,GAI9C,GAA2B,GAAxBpN,KAAK4B,MAAMC,UACZ,OAAGqB,EAAQP,OAAS,GAClBO,EAAQ,GAAG3C,GAAKA,OAChBP,KAAKsN,gBAAgBpK,EAAQ,MAG7BkK,EAAO,CAACrB,IAAM,aACd/L,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,IAIzC,GAA2B,GAAxBpN,KAAK4B,MAAMC,WAEjB,GAAGqB,EAAQP,OAAS,EAAE,CAEpB,IAAI,IAAIqC,EAAI,EAAGA,EAAI9B,EAAQP,OAAQqC,IACjC9B,EAAQ8B,GAAGzE,GAAKA,EAGb2C,EAAQ8B,GAAGxE,WAAaR,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAAS3C,WAChER,KAAKmN,mBAIPnN,KAAKuN,gBAAgBrK,EAAQ8B,IAG/B,aAGC,GAA2B,GAAxBhF,KAAK4B,MAAMC,WACdqB,EAAQP,OAAS,EAClB,IAAQqC,EAAI,EAAGA,EAAI9B,EAAQP,OAAQqC,IAIjC,OAFA9B,EAAQ8B,GAAGzE,GAAKA,OAChBP,KAAKwN,QAAQtK,EAAQ8B,IAK3BoI,EAAO,CAACrB,IAAM,eACd/L,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,qCAKlCK,EAASlN,GACjB,IAAI6M,EAAO,CAACrB,IAAM,QAAQ0B,QAAUA,GACpCzN,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,sCAGjC5M,GACT,IAAIgL,EAASxL,KAAK0N,WAAWlN,GACF,GAAxBR,KAAK4B,MAAMC,WACZ7B,KAAK4L,UAAU3H,OAAOC,OAAO7E,EAAQsO,aAAanC,EAAOlL,WAAOwL,GAGlE9L,KAAKkC,aACLlC,KAAK+C,SAAS,CAAClB,UAAW,EAAGgB,eAAgB,CAAC,EAAE,GAAIM,QAAS,EAC/CC,UAAW,EAAGC,aAAc,EAAGC,mBAAmB,IAEhE,IAAI,IAAI0B,EAAI,EAAGA,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IAC5ChF,KAAK4B,MAAMsB,QAAQ8B,GAAGvE,MAAQ,EAC9BT,KAAK4B,MAAMsB,QAAQ8B,GAAGtE,QAAU,IAAIC,MACpCX,KAAK4B,MAAMsB,QAAQ8B,GAAGpE,MAAQ,IAAID,MAClCX,KAAKgE,QAAU,IAAIrD,MACnBX,KAAKgM,UAAUhM,KAAK4B,MAAMsB,QAAQ8B,GAAGzE,GAAIP,KAAK4B,MAAMsB,QAAQ8B,GAAGxE,wDAK/C,MAAfR,KAAK4N,SACN5N,KAAK4N,gBACE5N,KAAK+D,4CAILP,EAAQqK,GAAU,IAAAC,EAAA9N,KAC3B,GAA2B,GAAxBA,KAAK4B,MAAMC,UAAd,CAGA7B,KAAK+C,SAAS,CAACS,OAAQA,IACvB,IAAI4J,EAAO,CAACrB,IAAM,OAAOvI,OAASA,GAKlC,GAJAxD,KAAK2J,IAAI0D,kBAAkB5N,OAAUqM,EAAYsB,GAI9C5J,EAAO,CACR,IAAI1B,EAAY9B,KAAK4B,MAAME,UAC3B,QAAmBgK,GAAhB9L,KAAK+D,SAAwB/D,KAAK+D,QAAQ,IAAMwB,EAAczD,GAAWxB,KAAK,QACxEN,KAAK+D,QAGZ,IAAI9B,EAAOsD,EAAczD,GACzB,GAAsB,GAAnBG,EAAK8L,YAAmB/N,KAAK4B,MAAM6B,cACpC,OAEF,IAAI,IAAIuB,EAAI,EAAGA,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IAAI,CAC5CoI,EAAO,CAACrB,IAAM,iBAClB/L,KAAK2J,IAAI0D,kBAAkB5N,EAAUO,KAAK4B,MAAMsB,QAAQ8B,GAAGzE,GAAK6M,GAElEpN,KAAK+C,SAAS,CAACU,eAAe,IAC9B,IACImK,EADAI,EAAQ/L,EAAKgM,SAEjB7O,IAAM8O,IAAIjM,EAAKuD,SAAU,CACvB2I,aAAc,cACdC,YAAa,IAAIjP,EAAY,SAAkBkP,GAC7CT,EAASS,IAEXC,mBAAoB,SAACC,GAEnB,IAAIC,EAAUD,EAAcE,OAAST,EACrCF,EAAK/K,SAAS,CAACW,gBAAiB8K,OAGnC9I,KAAK,SAACgJ,GAUL,IAAIlP,EAAOkP,EAASlP,KAChB0H,EAAOO,EAAOC,KAAKlI,EAAM,WACzB0G,EAAQC,IAAYA,YAAYyB,YAAYV,GAKhD,GAHA4G,EAAKlC,UAAUvM,EAAQsP,gBAAY7C,GACnCgC,EAAK/J,QAAU,CAACwB,EAAczD,GAAWxB,KAAM4F,GAC/C4H,EAAK/K,SAAS,CAACU,eAAe,EAAOC,gBAAiB,IACnDmK,EACDC,EAAKzB,UAAUyB,EAAKlM,MAAMsB,QAAQ,GAAG3C,GAAIuN,EAAKlM,MAAMsB,QAAQ,GAAG1C,WAAW,GAAM,OAE9E,CAEFsN,EAAKnE,IAAI0D,kBAAkB5N,OAAUqM,EAD1B,CAACC,IAAM,mBAIrB6C,MAAM,SAACC,GACNf,EAAKlC,UAAUvM,EAAQyP,gBAAYhD,GACnCgC,EAAK/K,SAAS,CAACU,eAAe,EAAOC,gBAAiB,IACtD,IAAI0J,EAAO,CAACrB,IAAM,eAClB+B,EAAKnE,IAAI0D,kBAAkB5N,OAAUqM,EAAYsB,GAEjDU,EAAK/K,SAAS,CAACS,QAAQ,IACnB4J,EAAO,CAACrB,IAAM,OAAOvI,QAAS,GAClCsK,EAAKnE,IAAI0D,kBAAkB5N,OAAUqM,EAAYsB,KAEnDpN,KAAK4N,OAASA,OAEXC,GACD7N,KAAKqM,UAAUrM,KAAK4B,MAAMsB,QAAQ,GAAG3C,GAAIP,KAAK4B,MAAMsB,QAAQ,GAAG1C,WAAW,GAAM,4CAQzEkL,GACb,GAAGA,GAAS1L,KAAK4B,MAAME,UAAU,CAC/B9B,KAAK+C,SAAS,CAACjB,UAAW4J,IAC1B,IAAI0B,EAAO,CAACrB,IAAM,WAAWL,MAAQA,GACrC1L,KAAK2J,IAAI0D,kBAAkB5N,OAAUqM,EAAYsB,GAEjDpN,KAAK+C,SAAS,CAACS,QAAQ,IACnB4J,EAAO,CAACrB,IAAM,OAAOvI,QAAS,GAClCxD,KAAK2J,IAAI0D,kBAAkB5N,OAAUqM,EAAYsB,wCAIzC1B,GACV,GAAGA,GAAS1L,KAAK4B,MAAM2B,WAAW,CAChCvD,KAAK+C,SAAS,CAACQ,WAAYmI,IAC3B,IAAI0B,EAAO,CAACrB,IAAM,QAAQL,MAAQA,GAClC1L,KAAK2J,IAAI0D,kBAAkB5N,OAAUqM,EAAYsB,GAEjDpN,KAAK+B,cAAgBC,EAAO0J,GAAOzJ,KACnCjC,KAAKkC,aACLlC,KAAK+C,SAAS,CAAClB,UAAW,IAC1B7B,KAAK+C,SAAS,CAAClB,UAAW,6CAIdf,EAAaP,EAAIC,GAM/B,IAJA,IAAIgL,EAAS,KACTuD,EAAkB,IAAIpO,MACtBqO,EAAkB,IAAIrO,MACtBsO,EAAiB,EACbjK,EAAI,EAAGA,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IACzChF,KAAK4B,MAAMsB,QAAQ8B,GAAGxE,WAAaA,KACpCgL,EAASxL,KAAK4B,MAAMsB,QAAQ8B,IACrBlE,YAAcA,GACjBA,GAAemO,EAAiB,IAClCF,EAAgBzI,KAAKkF,GACrBwD,EAAgB1I,KAAK2I,IAEvBA,KAGJ,IAAQjK,EAAI,EAAGA,EAAI+J,EAAgBpM,OAAQqC,IAAI,CAC7C,IAAI0G,EAAQ1L,KAAK4B,MAAMsB,QAAQyI,QAAQoD,EAAgB/J,IACvDhF,KAAK4B,MAAMsB,QAAQJ,OAAO4I,EAAM,GAElC1L,KAAK+C,SAAS,CAACG,QAASlD,KAAK4B,MAAMsB,iDAqBtBgM,GACb,IAAI9B,EAAO,CAACrB,IAAM,iBAAiBmD,MAAQA,GAC3ClP,KAAK2J,IAAI0D,kBAAkB5N,OAAUqM,EAAYsB,yCAIjD,IACI5B,EAASxL,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAC3CnD,KAAK2J,IAAI0D,kBAAkB5N,EAAU+L,EAAOjL,GAFjC,CAACwL,IAAM,gDAKRmB,EAAa3M,GACvB,GAAGP,KAAK0C,WAAWC,OAAS,EAC1B3C,KAAK4L,UAAUvM,EAAQ8P,SAAU5O,QAGnC,GAAyB,GAAtB2M,EAAYvK,OAAf,CAOA,IAHA,IAAI6I,EAASxL,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAEvC8J,EAAc,IAAItM,MACdqE,EAAI,EAAGA,EAAIkI,EAAYvK,OAAQqC,IAAI,CACzC,IAAI1C,EAAOC,KAAKC,MAAMD,KAAKE,SAASzC,KAAK0C,WAAWC,QAChDzC,EAASF,KAAK0C,WAAWJ,GACzB8M,EAAa5D,EAAO9K,QAAQwM,EAAYlI,IAC5CiI,EAAY3G,KAAK8I,GAEjB5D,EAAO9K,QAAQwM,EAAYlI,IAAM9E,EACjCF,KAAK0C,WAAWI,OAAOR,EAAM,GAG/B,IAAQ0C,EAAI,EAAGA,EAAIiI,EAAYtK,OAAQqC,IACrChF,KAAK0C,WAAW4D,KAAK2G,EAAYjI,IAGnChF,KAAK+C,SAAS,CAACG,QAASlD,KAAK4B,MAAMsB,UACnC,IACIkK,EAAO,CAACrB,IAAM,cAAcrL,QADd+J,KAAK4E,UAAU7D,EAAO9K,UAExCV,KAAK2J,IAAI0D,kBAAkB5N,EAAU+L,EAAOjL,GAAK6M,GACjDpN,KAAKsP,eAAe/O,QAxBlBP,KAAK4L,UAAUvM,EAAQkQ,QAAShP,mCA2B5BiP,GAGN,GAA2B,GAAxBxP,KAAK4B,MAAMC,UAAe,CAEX7B,KAAK4C,SAAS5C,KAAK4B,MAAMiB,eAAe,IAAI7C,KAAK4B,MAAMiB,eAAe,IAC5EzC,YAAa,EACvBJ,KAAK+C,SAAS,CAACF,eAAe,CAAC,EAAE,KAGjC,IAAI,IAAImC,EAAI,EAAGA,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IAC5ChF,KAAKyP,yBAAyBzP,KAAK4B,MAAMsB,QAAQ8B,IAIrDhF,KAAK+C,SAAS,CAAClB,UAAW,IAG1B,IAAI6N,EAAgB1P,KAAK4B,MAAMsB,QAAQmB,QACvCqL,EAAcC,KAAK,SAAStH,EAAGoB,GAC3B,OAAOpB,EAAE5H,MAAQgJ,EAAEhJ,QAEvB,IAAImP,EAAS,IAAIjP,MACjB,IAAQqE,EAAI,EAAGA,EAAI0K,EAAc/M,OAAQqC,IACvC4K,EAAOtJ,KAAK,CAAChG,KAAQoP,EAAc1K,GAAG1E,KAAMG,MAAQiP,EAAc1K,GAAGvE,QACrEiP,EAAc1K,GAAGnE,YAAcmE,EAEjC,IAAQA,EAAI,EAAGA,EAAI0K,EAAc/M,OAAQqC,IAAI,CAC3C,IAAIwG,EAASkE,EAAc1K,GAC3B,GAAmB,MAAhBwK,GAAwBhE,EAAOhL,WAAagP,EAAahP,WAC1C,MAAhBgP,EAAqB,CACnB,IAAIK,EAAepF,KAAK4E,UAAUO,GAC9BxC,EAAO,CAACrB,IAAM,YAAalL,YAAc2K,EAAO3K,YAAa+O,OAASC,GAC1E7P,KAAK2J,IAAI0D,kBAAkB5N,EAAU+L,EAAOjL,GAAK6M,sDAMhC5B,GAEvB,IADA,IAAIsE,EAAM,EACF9K,EAAI,EAAGA,EAAIwG,EAAO9K,QAAQiC,OAAQqC,IAChB,MAArBwG,EAAO9K,QAAQsE,KAChB8K,GAAOtE,EAAO9K,QAAQsE,GAAGvE,OAG7B+K,EAAO/K,MAAQ+K,EAAO/K,MAAQqP,EAC3BtE,EAAO/K,MAAQ,IAChB+K,EAAO/K,MAAQ,0CAIJF,GACb,IAAI8C,EAAerD,KAAK4B,MAAMyB,aAAe,EAC7CrD,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAASvC,MAAM0F,KAAK,IAClDtG,KAAKgE,QAAQsC,KAAK,CAAChG,KAAON,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAAS7C,KAAMyP,UAAa,KACpF/P,KAAK+C,SAAS,CAACM,aAAcA,IAE1BA,EAAe,EAChBrD,KAAKgQ,WAELhQ,KAAKwN,QAAQ,sCAITjN,GACN,IAAI0P,EAAcjQ,KAAKkQ,iBACvB,GAAyB,GAAtBD,EAAYtN,OAGX,OAFA3C,KAAKmQ,WAAY,OACjBnQ,KAAKsP,eAAe/O,GAIxB,IAAI6P,EAAa,EACQ,GAAtBH,EAAYtN,SACbyN,EAAa,IAOf,IAJA,IAAIC,EAAQ,IAAI1P,MACZ2P,EAAc,IAAI3P,MAElB4P,GAAc,EACVvL,EAAI,EAAGA,EAAIiL,EAAYtN,OAAQqC,IAGrC,IAFA,IAAIwL,EAAaxQ,KAAKyQ,cAAcR,EAAYjL,IAExCC,EAAK,EAAGA,EAAKuL,EAAW7N,OAAQsC,IACtC,GAA4B,MAAzBuL,EAAWvL,GAAI/E,QAA+C,MAA7BsQ,EAAWvL,GAAI9E,WAAmB,CACxC,MAAzBqQ,EAAWvL,GAAI/E,SAChBqQ,GAAc,IAEZG,EAAO1Q,KAAK2Q,WAAWH,EAAWvL,GAAIgL,EAAYjL,IAAI0L,MAErDf,KAAK,SAAStH,EAAGoB,GACpB,OAAGpB,EAAE1I,GAAK8J,EAAE9J,EACH0I,EAAE1I,EAAI8J,EAAE9J,EAGR0I,EAAEzI,EAAI6J,EAAE7J,IAMnB,IADA,IAAIgR,GAAiB,EACbC,EAAM,EAAGA,EAAMR,EAAM1N,OAAQkO,IAChCH,EAAK/N,SAAW0N,EAAMQ,GAAKlO,QAAU+N,EAAKI,MAAM,SAAS9P,EAAO0K,GAAS,OAAO1K,IAAUqP,EAAMQ,GAAKnF,OACtGkF,GAAiB,GAGrB,IAAIA,EAAe,CACjBP,EAAM/J,KAAKoK,GAGX,IADA,IAAIK,EAAa,GACTC,EAAI,EAAGA,EAAIN,EAAK/N,OAAQqO,IACT,MAAlBN,EAAKM,GAAG9Q,SACT6Q,GAAcL,EAAKM,GAAG9Q,OAAOc,OACN,MAAtB0P,EAAKM,GAAG7Q,aACT4Q,GAAcL,EAAKM,GAAG7Q,WAAWa,OAErCsP,EAAYhK,KAAKyK,IAOzB,IAAIR,GAAevQ,KAAK4B,MAAM0B,kBAG5B,OAFAtD,KAAKmN,wBACLnN,KAAK4L,UAAUvM,EAAQ4R,YAAa1Q,GAMb,GAAtB0P,EAAYtN,QAAgB3C,KAAK4B,MAAM0B,qBACpCoN,EAAO,IAAI/P,OACV2F,KAAK2J,EAAY,IACtBI,EAAM/J,KAAKoK,IAEb,IAAI1Q,KAAK4B,MAAM0B,mBAAqB+M,EAAM1N,OAAS,EAAE,CACnD,IAAI+N,EAAOL,EAAM,GACba,GAAmB,EACvB,IAAQlM,EAAI,EAAGA,EAAI0L,EAAK/N,OAAQqC,IAAI,CAEnB,IADXmM,EAAST,EAAK1L,IACRrF,GAAsB,GAAZwR,EAAOvR,IACzBsR,GAAmB,GAGvB,IAAIA,EAGF,OAFAlR,KAAKmN,wBACLnN,KAAK4L,UAAUvM,EAAQ+R,WAAY7Q,GAQvC,GAAGP,KAAKmQ,YACHG,EAAY3N,OAAS,GAEX,GADAJ,KAAKC,MAAoB,EAAdD,KAAKE,WAGzB,YADAzC,KAAKmN,mBAQX,GAAGnN,KAAK4B,MAAM4B,OAAO,CACnB,IAAI6N,EAAQrR,KAAKsR,WAAWhB,GAE5B,GADmBe,EAAME,aACT5O,OAAS,EAGvB,OAFA3C,KAAKmN,wBACLnN,KAAK4L,UAAUyF,EAAMG,cAAejR,GAO1C,GAAGgF,EAAcvF,KAAK4B,MAAME,WAAW2P,WACnC,IAAQT,EAAI,EAAGA,EAAIX,EAAM1N,OAAQqO,IAC/B,CAAIN,EAAOL,EAAMW,GAAjB,IACI5B,EAAa,GACjB,IAAQpK,EAAI,EAAGA,EAAI0L,EAAK/N,OAAQqC,IAAI,CAClC,IACI0M,EAAY,GAMhB,GAJEA,EADsB,OAFpBP,EAAST,EAAK1L,IAER7E,WACIgR,EAAOhR,WAAWa,MAElBmQ,EAAOjR,OAAOc,MAEpB,GAALgE,EAAO,CACR,GAA+C,cAA5CO,EAAcvF,KAAK4B,MAAME,WAAWxB,OACpB,KAAd8O,GAAkC,KAAbsC,GACP,KAAdtC,GAAkC,KAAbsC,GACP,KAAdtC,GAAkC,KAAbsC,GAInB,OAHA1R,KAAKmN,wBAELnN,KAAK4L,UAAU3H,OAAOC,OAAO7E,EAAQsS,YAAYvC,EAAasC,EAAWtC,EAAYsC,GAAWnR,GAIvG,GAA+C,YAA5CgF,EAAcvF,KAAK4B,MAAME,WAAWxB,OACpB,KAAd8O,GAAkC,KAAbsC,GACP,KAAdtC,GAAkC,KAAbsC,GACP,KAAdtC,GAAkC,UAAbsC,GAGnB,OAFA1R,KAAKmN,wBACLnN,KAAK4L,UAAU3H,OAAOC,OAAO7E,EAAQsS,YAAYvC,EAAasC,EAAWtC,EAAYsC,GAAWnR,GAKzG6O,EAAasC,GASnB,IAAIE,EAAa,EACb5N,EAAU,IAAIrD,MACd2K,EAAc,GAClB,IAAQ0F,EAAI,EAAGA,EAAIX,EAAM1N,OAAQqO,IAAI,CACnC1F,GAAe,cACXoF,EAAOL,EAAMW,GAAjB,IACIvQ,EAAQ,EACRoR,EAAiB,EAErB,IADId,EAAa,GACT/L,EAAI,EAAGA,EAAI0L,EAAK/N,OAAQqC,IAAI,CAClC,IAAImM,EACoB,OADpBA,EAAST,EAAK1L,IACR7E,aACRgR,EAAOjR,OAASiR,EAAOhR,WACvBgR,EAAOhR,WAAa,MAEtB,IAAI2R,EAAc,EAalBrR,GAXEqR,EADgB,GAAfX,EAAOtR,KAC4B,EAAtBsR,EAAOjR,OAAOO,MAEP,GAAf0Q,EAAOtR,KACuB,EAAtBsR,EAAOjR,OAAOO,MAEP,GAAf0Q,EAAOtR,KACuB,EAAtBsR,EAAOjR,OAAOO,MAGd0Q,EAAOjR,OAAOO,MAS9B6K,GAAe6F,EAAOjR,OAAOc,MAAQ,IAAI8Q,EAAY,KACrDf,GAAcI,EAAOjR,OAAOc,MACF,IAAvBmQ,EAAOjR,OAAOc,QACf+P,GAAc,KAGE,GAAfI,EAAOtR,MAA4B,GAAfsR,EAAOtR,OAC5BgS,GAAkC,GAElB,GAAfV,EAAOtR,OACRgS,GAAkC,GAElB,GAAfV,EAAOtR,OACRgS,GAAkC,GAItCD,GADAnR,GAAgBoR,EAEhBvB,EAAYhK,KAAKyK,GACjB/M,EAAQsC,KAAK,CAACyK,EAAWtQ,IACzB6K,GAAe,WAAa7K,EAIb,GAAd2P,GACDpM,EAAQlB,OAAO,EAAE,EAAE,CAAC,QAAQ,KAG9B9C,KAAKmQ,WAAY,EAIjB7E,GAAe,iBAAmB8E,EAAa,gBAD/CwB,GAAcxB,GAKdpQ,KAAK+C,SAAS,CAACM,aAAc,IAE7BrD,KAAK4B,MAAM0B,mBAAoB,EAC/BtD,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAAS1C,OAASmR,EAGhD,IAAQZ,EAAI,EAAGA,EAAIX,EAAM1N,OAAQqO,IAE/B,IADIN,EAAOL,EAAMW,GACThM,EAAI,EAAGA,EAAI0L,EAAK/N,OAAQqC,IAC9B0L,EAAK1L,GAAGnF,KAAO,EAKnBG,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAASvC,MAAM0F,KAAKtC,GAClDhE,KAAKgE,QAAQsC,KAAK,CAAChG,KAAON,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAAS7C,KAAMyP,UAAa/L,IAKpFhE,KAAKuL,cAAc,gBAAkBD,GAErCtL,KAAK+R,YAAY/R,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,UAG/C,IAAI6O,GAAU,EACVC,EAAgBjS,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAASzC,QAC3D,IAAQsE,EAAI,EAAGA,EAAIiN,EAActP,OAAQqC,IAChB,MAApBiN,EAAcjN,KACfgN,GAAU,GAGXA,GACDhS,KAAKwN,QAAQ,MAGfxN,KAAKgQ,8CAGIK,GAIT,IAHA,IAAInK,EAAQlG,KAAK+D,QAAQ,GACrBwN,EAAe,IAAI5Q,MACnB6Q,EAAgB,GACZxM,EAAI,EAAGA,EAAIqL,EAAM1N,OAAQqC,IAAI,CACtBkB,EAAMS,KAAK0J,EAAMrL,GAAGqB,iBAE5BkL,EAAa5O,OAAS,IACvB6O,GAAiB,MAEnBD,EAAajL,KAAK+J,EAAMrL,IACxBwM,GAAiBnB,EAAMrL,IAW3B,MAAO,CAACuM,aAAcA,EAAcC,cALlCA,EAFwB,GAAvBD,EAAa5O,OAEEsB,OAAOC,OAAO7E,EAAQ6S,YAAYV,GAGlCvN,OAAOC,OAAO7E,EAAQ8S,aAAaX,0CAMzCnB,GAIZ,IAHA,IAAIpK,EAAYjG,KAAK+D,QAAQ,GACzBwN,EAAe,IAAI5Q,MACnB6Q,EAAgB,GACZxM,EAAI,EAAGA,EAAIqL,EAAM1N,OAAQqC,IAAI,CACtBiB,EAAUmM,SAAS/B,EAAMrL,GAAGqB,iBAEvCkL,EAAajL,KAAK+J,EAAMrL,IACxBwM,GAAiBnB,EAAMrL,IAEtBA,GAAKqL,EAAM1N,OAAO,IACnB6O,GAAiB,MAQrB,OALmB,GAAhBnB,EAAM1N,OACP6O,GAAiB,uBAEjBA,GAAiB,sBAEZ,CAACD,aAAcA,EAAcC,cAAeA,uCAI1C,IAAAa,EAAArS,KACTA,KAAKmQ,WAAY,EACjBnQ,KAAKsS,MAAQnI,YAAY,WACfkI,EAAKE,iBACLC,cAAcH,EAAKC,QAClB,8CAKEtS,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAA3C,IACIsP,EAAezS,KAAK0S,kBAGxB,GAA0B,GAAvBD,EAAa9P,OAOhB,GAAW,IADXL,EAAOC,KAAKC,MAAoB,GAAdD,KAAKE,WACvB,CAKA,IAAI,IAAIuC,EAAI,EAAGA,EAAI,IAAMA,IAAI,CAC3B,IAAIhF,KAAKmQ,UACP,OAEF,IAAIzP,EAAUV,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAASzC,QAEjD4B,EAAOC,KAAKC,MAAMD,KAAKE,SAASgQ,EAAa9P,QAE7CgQ,EAAYF,EAAanQ,GACzBkO,EAAaxQ,KAAKyQ,cAAckC,GAEpC,GAA8B,MAA3BnC,EADHlO,EAAOC,KAAKC,MAAMD,KAAKE,SAAS+N,EAAW7N,SACvBzC,OAAe,CAQjC,IAPA,IAAI0S,EAAQ,IAAIjS,MAGZkM,EAAM,CAAC2D,EAAWlO,GAAM3C,EAAIgT,EAAUhT,EAAG6Q,EAAWlO,GAAM1C,EAAI+S,EAAU/S,GACxEiT,EAAc,CAACF,EAAUA,GACzBG,GAAc,EACdC,GAAc,GACXD,IAAgBC,GAAY,CAEjC,IA4BMC,EA5BFC,EAAQJ,EAAY,GAAGlT,EAAEkN,EAAI,GAC7BqG,EAAQL,EAAY,GAAGjT,EAAEiN,EAAI,GACjC,GAAGoG,GAAO,GAAKA,EAAM,IAAMC,GAAO,GAAKA,EAAM,KAAOJ,EAEtB,OADxBE,EAAahT,KAAK4C,SAASqQ,GAAOC,IACxB/S,YAA2C,MAArB6S,EAAW9S,QAC7C2S,EAAY,GAAKG,EACjBJ,EAAMtM,KAAK0M,GAERJ,EAAMjQ,OAAS,IAChBmQ,GAAc,GAIL,IADXxQ,EAAOC,KAAKC,MAAoB,EAAdD,KAAKE,aAErBqQ,GAAc,IAIhBA,GAAc,OAIhBA,GAAc,EAKhB,GAFAG,EAAQJ,EAAY,GAAGlT,GAAW,EAARkN,EAAI,GAC9BqG,EAAQL,EAAY,GAAGjT,GAAW,EAARiN,EAAI,GAC3BoG,GAAO,GAAKA,EAAM,IAAMC,GAAO,GAAKA,EAAM,KAAOH,EAEtB,OADxBC,EAAahT,KAAK4C,SAASqQ,GAAOC,IACxB/S,YAA2C,MAArB6S,EAAW9S,QAC7C2S,EAAY,GAAKG,EACjBJ,EAAMtM,KAAK0M,GACRJ,EAAMjQ,OAAS,IAChBoQ,GAAc,GAGL,IADXzQ,EAAOC,KAAKC,MAAoB,EAAdD,KAAKE,aAErBsQ,GAAc,IAIhBA,GAAc,OAIhBA,GAAc,EAMlB,IAAI,IAAI9N,EAAK,EAAGA,EAAK2N,EAAMjQ,OAAQsC,IAGjC,IAFA,IAAIkO,GAAS,EACTC,EAAQ,EACND,OACJC,EACW,MAIX,GAAoB,MAAjB1S,EADH4B,EAAOC,KAAKC,MAAMD,KAAKE,SAAS/B,EAAQiC,SACf,CAEvB,GAA0B,IAAvBjC,EAAQ4B,GAAMtB,MAAY,CAC3B,IAAIqS,EAAY9Q,KAAKC,MAAMD,KAAKE,SAASzC,KAAKsT,iBAAiB3Q,QAC/DjC,EAAQ4B,GAAMtB,MAAQhB,KAAKsT,iBAAiBD,GAE9CT,EAAM3N,GAAI9E,WAAaO,EAAQ4B,GAC/B5B,EAAQ4B,GAAQ,KAChB6Q,GAAS,EAMfnT,KAAK+C,SAAS,CAACG,QAASlD,KAAK4B,MAAMsB,UAGnClD,KAAKgN,QAAQ,QAOjBhN,KAAKgN,QAAQ,YA7GThN,KAAKgN,QAAQ,YAPfhN,KAAKgN,QAAQ,0CA2Hf,IAAIgD,EAAWhQ,KAAK4B,MAAMuB,QAAU,EACtBnD,KAAK4B,MAAMuB,QACtB6M,GAAYhQ,KAAK4B,MAAMsB,QAAQP,SAChCqN,EAAW,GAEbhQ,KAAK+C,SAAS,CAACK,UAAWpD,KAAK4B,MAAMwB,UAAU,IAC/CpD,KAAK+C,SAAS,CAACI,QAAQ6M,IACvB,IAAI,IAAIhL,EAAI,EAAGA,EAAEhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IAAI,CAC9C,IAAIuO,EAASvD,GAAYhL,EACrBwO,EAAWxT,KAAK4B,MAAMsB,QAAQ8M,GAAU1P,KAGxCmT,EAAchJ,KAAK4E,UAAUrP,KAAKgE,SACtC,IAAIhE,KAAK4B,MAAMsB,QAAQ8B,GAAGlE,aAAeyS,IAAWvT,KAAK0T,aAAa1T,KAAK4B,MAAMsB,QAAQ8B,GAAGxE,WAAW,CAEtE,OAA5BR,KAAK4B,MAAMsB,QAAQ8B,GAAGzE,IAAegT,GACpCvT,KAAK2T,YAGT,IAAIvG,EAAO,CAACrB,IAAM,WAAYwH,OAASA,EAAQC,SAAWA,EAAUxP,QAAUyP,GAC9EzT,KAAK2J,IAAI0D,kBAAkB5N,EAAUO,KAAK4B,MAAMsB,QAAQ8B,GAAGzE,GAAK6M,GAChEpN,KAAK4T,kBAAkB5T,KAAK4B,MAAMsB,QAAQ8B,+CAO9C,IADA,IAAIiL,EAAc,IAAItP,MACdqE,EAAI,EAAGA,EAAIhF,KAAK4C,SAASD,OAAQqC,IACvC,IAAI,IAAIC,EAAK,EAAGA,EAAKjF,KAAK4C,SAASoC,GAAGrC,OAAQsC,IAAK,CACjD,IAAIkM,EAASnR,KAAK4C,SAASoC,GAAGC,GACN,MAArBkM,EAAOhR,YACR8P,EAAY3J,KAAK6K,GAIvB,OAAOlB,4CAKP,IADA,IAAIwC,EAAe,IAAI9R,MACfqE,EAAI,EAAGA,EAAIhF,KAAK4C,SAASD,OAAQqC,IACvC,IAAI,IAAIC,EAAK,EAAGA,EAAKjF,KAAK4C,SAASoC,GAAGrC,OAAQsC,IAAK,CACjD,IAAIkM,EAASnR,KAAK4C,SAASoC,GAAGC,GACV,MAAjBkM,EAAOjR,QACRuS,EAAanM,KAAK6K,GAIxB,OAAOsB,wCAGKtB,GACZ,IAAIxR,EAAIwR,EAAOxR,EACXC,EAAIuR,EAAOvR,EACX4Q,EAAa,IAAI7P,MASrB,OARGhB,EAAE,EAAE,IACL6Q,EAAWlK,KAAKtG,KAAK4C,SAASjD,EAAE,GAAGC,IAClCD,EAAE,GAAG,GACN6Q,EAAWlK,KAAKtG,KAAK4C,SAASjD,EAAE,GAAGC,IAClCA,EAAE,EAAE,IACL4Q,EAAWlK,KAAKtG,KAAK4C,SAASjD,GAAGC,EAAE,IAClCA,EAAE,GAAG,GACN4Q,EAAWlK,KAAKtG,KAAK4C,SAASjD,GAAGC,EAAE,IAC9B4Q,qCAGEqD,EAAWlB,GACpB,IAAI9F,EAAM,CAACgH,EAAUlU,EAAIgT,EAAUhT,EAAGkU,EAAUjU,EAAI+S,EAAU/S,GAC1DkT,GAAc,EACdC,GAAc,EACde,GAAc,EACdpD,EAAO,IAAI/P,MACf+P,EAAKpK,KAAKqM,GAGV,IADA,IAAIE,EAAc,CAACF,EAAUA,IACtBG,IAAgBC,GAAY,CAEjC,IAsBMC,EAtBFC,EAAQJ,EAAY,GAAGlT,EAAEkN,EAAI,GAC7BqG,EAAQL,EAAY,GAAGjT,EAAEiN,EAAI,GACjC,GAAGoG,GAAO,GAAKA,EAAM,IAAMC,GAAO,GAAKA,EAAM,GAEf,OADxBF,EAAahT,KAAK4C,SAASqQ,GAAOC,IACxB/S,YAA2C,MAArB6S,EAAW9S,QAC7C2S,EAAY,GAAKG,EACjBtC,EAAKpK,KAAK0M,GACPA,EAAWrT,GAAKK,KAAK6D,iBAAiBlE,GAAKqT,EAAWpT,GAAKI,KAAK6D,iBAAiBjE,IAClFkU,GAAc,IAIhBhB,GAAc,OAIhBA,GAAc,EAKhB,GAFAG,EAAQJ,EAAY,GAAGlT,GAAW,EAARkN,EAAI,GAC9BqG,EAAQL,EAAY,GAAGjT,GAAW,EAARiN,EAAI,GAC3BoG,GAAO,GAAKA,EAAM,IAAMC,GAAO,GAAKA,EAAM,GAEf,OADxBF,EAAahT,KAAK4C,SAASqQ,GAAOC,IACxB/S,YAA2C,MAArB6S,EAAW9S,QAC7C2S,EAAY,GAAKG,EACjBtC,EAAKpK,KAAK0M,GACPA,EAAWrT,GAAKK,KAAK6D,iBAAiBlE,GAAKqT,EAAWpT,GAAKI,KAAK6D,iBAAiBjE,IAClFkU,GAAc,IAIhBf,GAAc,OAIhBA,GAAc,EAGlB,MAAO,CAACrC,KAAOA,EAAMoD,YAAcA,uCAGzBpI,EAAOqB,EAAYxM,GAC7B,IAAIoS,EAAY3S,KAAK4C,SAAS5C,KAAK4B,MAAMiB,eAAe,IAAI7C,KAAK4B,MAAMiB,eAAe,IAClF6O,EAAY1R,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAASzC,QAAQgL,GAC3DqI,GAAU,EACS,MAApBpB,EAAUzS,QAA0C,MAAxByS,EAAUxS,YAAmC,MAAbuR,IAC7DqC,GAAU,EACV/T,KAAK4L,UAAUvM,EAAQ2U,YAAazT,IAEtC,IAAI0P,EAAcjQ,KAAKkQ,iBACvB,GAAyB,GAAtBD,EAAYtN,OACb3C,KAAK6D,iBAAmB8O,EACxB3S,KAAKuL,cAAc,qBAAuBvL,KAAK6D,iBAAiBlE,EAAI,IAAIK,KAAK6D,iBAAiBjE,QAG3F,GAAGqQ,EAAYtN,OAAS,EAAE,CAI7B,IAHA,IAAI6N,EAAaxQ,KAAKyQ,cAAckC,GAChCmB,GAAc,EAEV7O,EAAK,EAAGA,EAAKuL,EAAW7N,OAAQsC,IACV,MAAzBuL,EAAWvL,GAAI/E,QAA+C,MAA7BsQ,EAAWvL,GAAI9E,YAC9CH,KAAK2Q,WAAWH,EAAWvL,GAAK0N,GAAWmB,cAC5CA,GAAc,GAIhBA,GAeuB,GAAtB7D,EAAYtN,SACV3C,KAAK6D,iBAAiBlE,GAAKgT,EAAUhT,EACtCK,KAAK8D,WAAa,CAAC6O,EAAUhT,GAAG,GAEhCK,KAAK8D,WAAa,EAAE,EAAE6O,EAAU/S,IAGjCqQ,EAAYtN,OAAS,KACI,GAAvB3C,KAAK8D,WAAW,IAAY6O,EAAUhT,GAAKK,KAAK8D,WAAW,KACpC,GAAvB9D,KAAK8D,WAAW,IAAY6O,EAAU/S,GAAKI,KAAK8D,WAAW,MAC5DiQ,GAAU,EACV/T,KAAK4L,UAAUvM,EAAQ4U,iBAAkB1T,IAG7CP,KAAKuL,cAAc,uBAAyBvL,KAAK8D,WAAW,GAAI,IAAK9D,KAAK8D,WAAW,MA5BrFiQ,GAAU,EACP9D,EAAYtN,OAAS,KACI,GAAvB3C,KAAK8D,WAAW,IAAY6O,EAAUhT,GAAKK,KAAK8D,WAAW,KACpC,GAAvB9D,KAAK8D,WAAW,IAAY6O,EAAU/S,GAAKI,KAAK8D,WAAW,IAC5D9D,KAAK4L,UAAUvM,EAAQ4U,iBAAkB1T,GAK3CP,KAAK4L,UAAUvM,EAAQ6U,cAAe3T,IAyB5C,GAAGwT,EAAQ,CACa,IAAnBrC,EAAU1Q,QACX0Q,EAAU1Q,MAAQ+L,GAEpB4F,EAAUxS,WAAauR,EACvB1R,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAASzC,QAAQgL,GAAS,KACxD1L,KAAK+C,SAAS,CAACG,QAASlD,KAAK4B,MAAMsB,UACnC,IAAIkK,EAAO,CAACrB,IAAM,SAASL,MAAQA,GACnC1L,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,+CAQ5C,IAHA,IAAI6C,EAAcjQ,KAAKkQ,gBAAe,GAClC1E,EAASxL,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SACvCgR,EAAS,EACLnP,EAAI,EAAGA,EAAIiL,EAAYtN,OAAQqC,IAAI,CACzC,KAAkC,MAA5BwG,EAAO9K,QAAQsE,EAAEmP,IACrBA,GAAU,EAE0B,GAAnClE,EAAYjL,GAAG7E,WAAWM,QAC3BwP,EAAYjL,GAAG7E,WAAWa,MAAQ,IAEpCwK,EAAO9K,QAAQsE,EAAEmP,GAAUlE,EAAYjL,GAAG7E,WAC1C8P,EAAYjL,GAAG7E,WAAa,KAE9BH,KAAK+C,SAAS,CAACG,QAASlD,KAAK4B,MAAMsB,UACnClD,KAAK4T,kBAAkBpI,sCAGdqB,GACT,IAAIuH,EAAYpU,KAAK4C,SAAS5C,KAAK4B,MAAMiB,eAAe,IAAI7C,KAAK4B,MAAMiB,eAAe,IAClFlD,EAAIK,KAAK4B,MAAMiB,eAAe,GAC9BjD,EAAII,KAAK4B,MAAMiB,eAAe,GAElC,OADA7C,KAAKuL,cAAc,iBAAmBsB,GAC/BA,GACL,IAAK,KACHjN,GAAK,EACL,MACF,IAAK,OACHA,GAAK,EACL,MACF,IAAK,OACHD,GAAK,EACL,MACF,IAAK,QACHA,GAAK,EAKT,GAAGA,GAAK,GAAKA,EAAI,IAAMC,GAAK,GAAKA,EAAI,GAAG,CACtC,IAAI+S,EAAY3S,KAAK4C,SAASjD,GAAGC,GACjCwU,EAAUhU,YAAa,EACvBuS,EAAUvS,YAAa,EACvBJ,KAAK+C,SAAS,CAACF,eAAe,CAAClD,EAAEC,wCAM3BW,EAAIC,EAAW6T,EAAYC,GACnC,IAAIpR,EAAUlD,KAAKyL,YAAYjL,GAC/B,IAAG0C,EAAQ,GAAGpC,aAAgBuT,EAA9B,CAYA,GAAgC,GAA7BrU,KAAK4B,MAAMsB,QAAQP,OAAY,CAChC,IAAI4R,EAA0D,GAAlDhP,EAAcvF,KAAK4B,MAAME,WAAWiM,WAEhD,IAAIsG,EAAW,CACTjH,EAAO,CAACrB,IAAM,YAAawI,MAAQA,GAEvC,YADAvU,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,GAI5C,GAAGmH,GAASD,EAAO,CACjB,IAAGtU,KAAK4B,MAAM4B,OAKZ,YADAxD,KAAKwM,YAAW,GAAM,GAHtBxM,KAAKoC,UAAU,eAAM,MAAO,OAAO,GAAO,EAAO,WAAO0J,QAQ7B,OAA5B9L,KAAK4B,MAAMsB,QAAQ,GAAG3C,IACpBP,KAAK4B,MAAM4B,SAAYxD,KAAK4B,MAAM+B,OACnC3D,KAAKwM,YAAW,GAAO,GAS7BxM,KAAKuL,cAAc,gBAEnBvL,KAAK+B,cAAgBC,EAAOhC,KAAK4B,MAAM2B,YAAYtB,KACnDjC,KAAKkC,aAELlC,KAAKmC,uBACLnC,KAAK4C,SAAS,GAAG,GAAGxC,YAAa,EACjCJ,KAAK+C,SAAS,CAACF,eAAe,CAAC,EAAE,KAEjC,IAAQmC,EAAI,EAAGA,EAAEhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IAAI,CAC9C,IAAIwG,EAASxL,KAAK4B,MAAMsB,QAAQ8B,GAChChF,KAAKwU,gBAAgBhJ,GACrBxL,KAAKuN,gBAAgB/B,GAEvBxL,KAAK+C,SAAS,CAAClB,UAAU,QAxDzB,CAEE,IADA,IAAI4S,EAAc,IAAI9T,MACdqE,EAAI,EAAGA,EAAI9B,EAAQP,OAAQqC,IACjCyP,EAAYnO,KAAMpD,EAAQ8B,GAAG1E,MAE/B,IAEI8M,EAAO,CAACrB,IAAM,gBAAiB0I,YAFbhK,KAAK4E,UAAUoF,IAGrCzU,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,4CAmD9B5B,GACd,IAAIkJ,EACJA,EAAc1U,KAAK4B,MAAMsB,QAAQyI,QAAQH,GAMzC,IAAI+H,EAASvT,KAAK4B,MAAMuB,SAAWuR,EAC/BlB,EAAWxT,KAAK4B,MAAMsB,QAAQlD,KAAK4B,MAAMuB,SAAS7C,KAElDmT,EAAchJ,KAAK4E,UAAUrP,KAAKgE,SAEtC,IAAIwH,EAAO1K,aAAeyS,IAAWvT,KAAK0T,aAAalI,EAAOhL,WAAW,CACvER,KAAK4T,kBAAkBpI,GACvB,IAAI4B,EAAO,CAACrB,IAAM,cAAewH,OAASA,EAAQC,SAAWA,EAAU9S,QAAUV,KAAKsT,iBAAkBtP,QAAUyP,GAClHzT,KAAK2J,IAAI0D,kBAAkB5N,EAAU+L,EAAOjL,GAAK6M,yCAIxC5M,GAGX,IAFA,IAAI0C,EAAUlD,KAAKyL,YAAYjL,GAC3BkT,GAAe,EACX1O,EAAI,EAAGA,EAAI9B,EAAQP,OAAQqC,IAAI,CACxBhF,KAAK4B,MAAMuB,SAAWnD,KAAK4B,MAAMsB,QAAQyI,QAAQzI,EAAQ8B,MAEpE0O,GAAe,GAGnB,OAAOA,iDAIP,IAAIhT,EAAU6E,EAAcvF,KAAK4B,MAAME,WAAWG,KAClDjC,KAAK0C,WAAa,IAAI/B,MACtBX,KAAKsT,iBAAmB,IAAI3S,MAC5B,IAAI,IAAIqE,EAAI,EAAGA,EAAItE,EAAQiC,OAAQqC,IACjC,GAAGtE,EAAQsE,GAAGrC,OAAS,EACrB,IAAI,IAAIsC,EAAK,EAAGA,EAAKvE,EAAQsE,GAAGrC,OAAQsC,IAAK,CACvCjF,KAAKsT,iBAAiBlB,SAAS1R,EAAQsE,GAAGC,GAAI,KAA4B,IAArBvE,EAAQsE,GAAGC,GAAI,IACtEjF,KAAKsT,iBAAiBhN,KAAK5F,EAAQsE,GAAGC,GAAI,IAE5C,IAAI,IAAI4L,EAAM,EAAGA,EAAMnQ,EAAQsE,GAAGC,GAAI,GAAI4L,IAAM,CAC9C,IAAI3Q,EAAS,IAAIa,EAAOL,EAAQsE,GAAGC,GAAI,GAAGD,GAC1ChF,KAAK0C,WAAW4D,KAAKpG,IAK7BF,KAAKsT,iBAAiB3D,OACtB5J,QAAQC,IAAIhG,KAAKsT,4DAGD9H,GAChB,IACI4B,EAAO,CAACrB,IAAM,cAAcrL,QADd+J,KAAK4E,UAAU7D,EAAO9K,UAExCV,KAAK2J,IAAI0D,kBAAkB5N,EAAU+L,EAAOjL,GAAK6M,2CAEnC5B,GAEd,IADA,IAAImJ,EAAO,EAAInJ,EAAO9K,QAAQiC,OACtBqC,EAAI,EAAGA,EAAI2P,EAAM3P,IAAI,CAC3B,IAAI1C,EAAOC,KAAKC,MAAMD,KAAKE,SAASzC,KAAK0C,WAAWC,QAChDzC,EAASF,KAAK0C,WAAWJ,GAC7BtC,KAAK0C,WAAWI,OAAOR,EAAM,GAC7BkJ,EAAO9K,QAAQ4F,KAAKpG,wCAIZsL,GACV,IAAI,IAAIxG,EAAI,EAAGA,EAAI,EAAGA,IACpB,GAAwB,MAArBwG,EAAO9K,QAAQsE,IACa,GAA1BhF,KAAK0C,WAAWC,OAAY,CAC7B,IAAIL,EAAOC,KAAKC,MAAMD,KAAKE,SAASzC,KAAK0C,WAAWC,QAChDzC,EAASF,KAAK0C,WAAWJ,GAC7BkJ,EAAO9K,QAAQsE,GAAK9E,EACpBF,KAAK0C,WAAWI,OAAOR,EAAM,sCAO3BhC,EAAMC,EAAIC,EAAWmD,EAAOwI,EAAmBC,EAAaxI,GACpE,GAAGwI,EA52Da,GA42DhB,CACE,IAAIgB,EAAO,CAACrB,IAAM,kBAClB/L,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,OAF5C,CAOA,IAAIjB,EAAkB,CAKhBiB,EAAO,CAACrB,IAAM,YAAYjL,aAAc,GAC5Cd,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,GAC1C,IAAI,IAAIpI,EAAI,EAAGA,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IAC5C,GAAGhF,KAAK4B,MAAMsB,QAAQ8B,GAAGxE,WAAaA,EACpC,OAKN,GAAGR,KAAK4B,MAAMsB,QAAQP,OAAS,EAC7B3C,KAAK4L,UAAU3H,OAAOC,OAAO7E,EAAQuV,WAAW5U,KAAK4B,MAAMsB,QAAQP,QAASpC,OAD9E,CAIgC,GAA7BP,KAAK4B,MAAMsB,QAAQP,QACP,MAAViB,QAA4BkI,GAAVlI,IACnB5D,KAAK+C,SAAS,CAACa,OAAQA,IACvBvE,EAAQwV,YAAYjR,IAIxB,IAAIkR,EAAa9U,KAAK4B,MAAMsB,QAAQmB,QAChC0Q,EAAY,IAAI1U,EAAOC,EAAMC,EAAIC,GACrCuU,EAAUjU,YAAcqL,EACxB2I,EAAWxO,KAAKyO,GAChB/U,KAAK+C,SAAS,CAACG,QAAQ4R,IACvB9U,KAAKuL,cAAc,eAAiBjL,EAAO,SAAWC,GAEnDoD,GACD3D,KAAKkM,YAGHC,EAIFnM,KAAKgV,yBAAyBD,GAH9B/U,KAAKsN,gBAAgByH,0CAOZrJ,EAAOnL,EAAIC,GACtB,IAAI0C,EAAUlD,KAAKyL,YAAYjL,GAC/B,KAAG0C,EAAQP,OAAS+I,EAAQ,GAA5B,CAGA,IAAIF,EAAStI,EAAQwI,GACjBuJ,EAAcjV,KAAK4B,MAAMsB,QAAQyI,QAAQH,GAE7CxL,KAAK4B,MAAMsB,QAAQJ,OAAOmS,EAAa,GACvCjV,KAAK+C,SAAS,CAACG,QAASlD,KAAK4B,MAAMsB,UAEnC,IAAIgS,EAAU,IAAIvU,MAClBuU,EAAQ5O,KAAKoF,GACb,IACI0B,EAAO,CAACrB,IAAM,eAAgBmJ,QADhBzK,KAAK4E,UAAU6F,IAEjClV,KAAK2J,IAAI0D,kBAAkB5N,EAAUc,EAAK6M,wCAI1CpN,KAAK+C,SAAS,CAACY,OAAM,IAErB3D,KAAK2J,IAAI0D,kBAAkB5N,OAAUqM,EAD1B,CAACC,IAAM,kDAKJP,GAGd,IADA,IAAI2J,EAAQ,IAAIxU,MACRqE,EAAI,EAAGA,EAAIO,EAAc5C,OAAQqC,IACvCmQ,EAAM7O,KAAK,CAAChG,KAAKiF,EAAcP,GAAG1E,KAAMyN,WAAWxI,EAAcP,GAAG+I,WAAYqH,SAAS7P,EAAcP,GAAGoQ,WAE5G,IAAIC,EAAS,IAAI1U,MACjB,IAAQqE,EAAI,EAAGA,EAAIhD,EAAOW,OAAQqC,IAChCqQ,EAAO/O,KAAKtE,EAAOgD,GAAG1E,MAExB,IAAIgV,EAAY7K,KAAK4E,UAAU8F,GAC3BI,EAAa9K,KAAK4E,UAAUgG,GAG7BrV,KAAK4B,MAAMsB,QAAQP,OAAS,GAAkB,OAAb6I,EAAOjL,KACtCP,KAAK4B,MAAM6B,gBAAkBzD,KAAK4B,MAAM+B,OACzC3D,KAAKyM,qBAGwB,OAA5BzM,KAAK4B,MAAMsB,QAAQ,GAAG3C,KACvBP,KAAKwM,YAAW,GAAO,GACvBxM,KAAK4B,MAAMsB,QAAQJ,OAAO,EAAG,GAC7B9C,KAAK+C,SAAS,CAACG,QAASlD,KAAK4B,MAAMsB,YAKvC,IAAIkK,EAAO,CAACrB,IAAM,cAAeoJ,MAAQG,EAAWxT,UAAY9B,KAAK4B,MAAME,UAAWuT,OAAUE,EAAYhS,WAAcvD,KAAK4B,MAAM2B,WAAYC,OAASxD,KAAK4B,MAAM4B,OAAQC,cAAgBzD,KAAK4B,MAAM6B,cAAeE,MAAQ3D,KAAK4B,MAAM+B,OAC1O3D,KAAK2J,IAAI0D,kBAAkB5N,EAAU+L,EAAOjL,GAAK6M,GAI7CA,EAAO,CAACrB,IAAM,cAAeyJ,gBAv9Df,EAu9DkDC,WAAaC,EAv9D/D,GAu9D0FD,WAAaE,MAASD,EAv9DhH,GAu9D2IC,OAC7J3V,KAAK2J,IAAI0D,kBAAkB5N,EAAU+L,EAAOjL,GAAK6M,oDAK1B5B,GACvB,IAAI4B,EAAO,CAACrB,IAAM,YAAazL,KAAOkL,EAAOlL,MAC7CN,KAAK2J,IAAI0D,kBAAkB5N,EAAU+L,EAAOjL,GAAK6M,8CAKhDpN,KAAK+C,SAAS,CAACC,MAAOkF,OAAO0N,WAAY3S,OAAQiF,OAAO2N,uDAG1CC,EAAK9Q,GAAE,IAAA+Q,EAAA/V,KACtB,OACEgW,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,QACZH,EAAKI,IAAI,SAAC/E,EAAQnM,GAAT,OAAe+Q,EAAKI,aAAahF,EAAQnM,2CAI5CmM,EAAQnM,GACnB,IAAI5E,EAKJ,OAJAA,EAAa+Q,EAAO/Q,WAKlB4V,EAAA3N,EAAAE,cAAC6N,EAAD,CAAQjF,OAAQA,EAAQnM,EAAGA,EAAG5E,WAAYA,EAAYf,QAASA,6CAKjE,OACE2W,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,YACbD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,SACZ5W,EAAQgX,WAEXL,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,aACZjW,KAAK0C,WAAWC,iDAKT2T,GAAQ,IAAAC,EAAAvW,KAClBwW,EAAY,YACbF,IACDE,EAAY,aAEd,IAAIC,EAAY,GAEhB,GAA2B,GAAxBzW,KAAK4B,MAAMC,UAAe,CAG3B,IAFA,IAAI6U,EAAM,EACNC,EAAW,IAAIhW,MACXqE,EAAI,EAAGA,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAQqC,IAAI,CAChD,IAAIwG,EAASxL,KAAK4B,MAAMsB,QAAQ8B,GAC7BwG,EAAO/K,MAAQiW,GAChBA,EAAMlL,EAAO/K,OACbkW,EAAW,IAAIhW,OACN2F,KAAKtB,IAERwG,EAAO/K,OAASiW,GACtBC,EAASrQ,KAAKtB,GAIlB,GAAsB,GAAnB2R,EAAShU,OACV8T,EAAYxS,OAAOC,OAAO7E,EAAQuX,WAAY5W,KAAK4B,MAAMsB,QAAQyT,EAAS,IAAIrW,MAEnC,gBAAxCN,KAAK4B,MAAMsB,QAAQyT,EAAS,IAAIrW,OACjCmW,EAAY,iBAGZ,CACFA,EAAYpX,EAAQwX,YACpB,IAAQ7R,EAAI,EAAGA,EAAI2R,EAAShU,OAAQqC,IACS,gBAAxChF,KAAK4B,MAAMsB,QAAQyT,EAAS3R,IAAI1E,KACjCmW,GAAa,MAEbA,GAAazW,KAAK4B,MAAMsB,QAAQyT,EAAS3R,IAAI1E,KAE5C0E,GAAK2R,EAAShU,OAAQ,EACvB8T,GAAa,IAEbA,GAAapX,EAAQyX,SAM7B,IAAIC,EAAgB,GACjB/W,KAAK4B,MAAMyB,aAAe,GAAKrD,KAAK4B,MAAMyB,aAAe,IAC1D0T,EAAgB9S,OAAOC,OAAO7E,EAAQ2X,eAAehX,KAAK4B,MAAMyB,eAElE,IAAI4T,EAAe5X,EAAQ6X,aAG3B,OAFgC,GAA7BlX,KAAK4B,MAAMsB,QAAQP,SACpBsU,EAAe5X,EAAQ8X,SAEvBnB,EAAA3N,EAAAE,cAAA,OAAK0N,UAAWO,GACdR,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,SACZgB,GAEHjB,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,WACZjW,KAAK4B,MAAMsB,QAAQgT,IAAI,SAAC1K,EAAQxG,GAAT,OAAeuR,EAAKa,aAAa5L,EAAQxG,EAAGsR,MAEtEN,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,WAvDA,GAwDEQ,GAEjBT,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,WACZc,yCAMIvL,EAAOxG,EAAGsR,GACrB,IAAIe,EAAW,GACZrS,EAAIhF,KAAK4B,MAAMsB,QAAQP,OAAO,IAC/B0U,EAAW,WACb,IAAIC,EAAW,GACZtS,GAAKhF,KAAK4B,MAAMuB,UACjBmU,EAAW,UACb,IAAIhX,EAAOkL,EAAOlL,KAMlB,MALkB,gBAAfkL,EAAOlL,OACRA,EAAQ0V,EAAA3N,EAAAE,cAAA,OACZ0N,UAAU,QACVsB,IAAKC,OAEAlB,EAECN,EAAA3N,EAAAE,cAAA,OAAK0N,UAAW,gBACb3V,GAIH0V,EAAA3N,EAAAE,cAAA,OAAK0N,UAAW,SAAWoB,GACzBrB,EAAA3N,EAAAE,cAAA,OAAK0N,UAAWqB,IAChBtB,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,cACd3V,GAED0V,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,SACdzK,EAAO/K,kDAOEgX,GAEhB,IAAI/T,EAAkB1D,KAAK4B,MAAM8B,gBAAkB,IAChDA,EAAkB,IACnBA,EAAkB,GAEpB,IAAIV,EAA0B,IAAlBU,EACRgU,EAAWnS,EAAcvF,KAAK4B,MAAME,WAAWxB,KAC/CqX,EAAe1T,OAAOC,OAAO7E,EAAQuY,YAAYF,GAIrD,OAHsB,GAAnBhU,IACDiU,EAAe1T,OAAOC,OAAO7E,EAAQwY,eAAeH,IAGpD1B,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,YACbD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,cAAc6B,MAAO,CAAE9U,MAASA,KAC/CgT,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,gBAAgB0B,GAC/B3B,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,cAAc6B,MAAO,CAAE9U,MAASA,uCAM5C,IAAA+U,EAAA/X,KACHgY,EAAQA,EAAQzV,KAAK0V,IAAIjY,KAAK4B,MAAMoB,MAAM,IAAKhD,KAAK4B,MAAMqB,OAAO,KAErE,OAAGjD,KAAK4B,MAAMC,UAAY,EAEtBmU,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,OACbD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,OACbD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,YAAY6B,MAAO,CAAEI,UAAa,SAAWF,EAAQ,MAClEhC,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,QACbD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,UACZjW,KAAK4C,SAASsT,IAAI,SAACJ,EAAM9Q,GAAP,OAAa+S,EAAKI,iBAAiBrC,EAAM9Q,OAI/DhF,KAAKoY,iBAAgB,GACrBpY,KAAKqY,mBAGVrC,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,YAAYsB,IAAKe,OAIjCtY,KAAK4B,MAAM6B,cAEVuS,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,OACbD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,OACfD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,YAAY6B,MAAO,CAAEI,UAAa,SAAWF,EAAQ,MAClEhC,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,OAAOsB,IAAKe,MAC1BtY,KAAKuY,kBAAkBvY,KAAK4B,MAAM8B,oBAOvCsS,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,OACbD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,OACbD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,YAAY6B,MAAO,CAAEI,UAAa,SAAWF,EAAQ,MAClEhC,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,OAAOsB,IAAKe,MAC1BtY,KAAKoY,iBAAgB,GACtBpC,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,gBACbD,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,SACZ5W,EAAQmZ,OAEXxC,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,cACZjU,EAAOhC,KAAK4B,MAAM2B,YAAYjD,MAEjC0V,EAAA3N,EAAAE,cAAA,OAAK0N,UAAU,cACZjW,KAAK4C,SAASsT,IAAI,SAACJ,EAAM9Q,GAAP,OAAa+S,EAAKI,iBAAiBrC,EAAM9Q,iBA9oE9DyT,aA0pELrC,EAAb,SAAAsC,GACE,SAAAtC,EAAYlV,GAAO,IAAAyX,EAAA,OAAA7Y,OAAAC,EAAA,EAAAD,CAAAE,KAAAoW,IACjBuC,EAAA7Y,OAAAuB,EAAA,EAAAvB,CAAAE,KAAAF,OAAAwB,EAAA,EAAAxB,CAAAsW,GAAA7U,KAAAvB,KAAMkB,KACDU,MAAM,GAEX+W,EAAKnC,UAAY,UACjBmC,EAAKC,eAAiB,GACtBD,EAAKE,cAAgB,GAEG,GAArB3X,EAAMiQ,OAAOtR,OACd8Y,EAAKnC,WAAa,WAClBmC,EAAKC,eAAiB1X,EAAM7B,QAAQyZ,YACpCH,EAAKE,cAAgB,MAEC,GAArB3X,EAAMiQ,OAAOtR,OACd8Y,EAAKnC,WAAa,WAClBmC,EAAKC,eAAiB1X,EAAM7B,QAAQyZ,YACpCH,EAAKE,cAAgB,MAEC,GAArB3X,EAAMiQ,OAAOtR,OACd8Y,EAAKnC,WAAa,WAClBmC,EAAKC,eAAiB1X,EAAM7B,QAAQyZ,YACpCH,EAAKE,cAAgB,MAEC,GAArB3X,EAAMiQ,OAAOtR,OACd8Y,EAAKnC,WAAa,SAClBmC,EAAKC,eAAiB1X,EAAM7B,QAAQ0Z,UACpCJ,EAAKE,cAAgB,MAEC,GAArB3X,EAAMiQ,OAAOtR,OACd8Y,EAAKnC,WAAa,SAClBmC,EAAKC,eAAiB1X,EAAM7B,QAAQ0Z,UACpCJ,EAAKE,cAAgB,MAEC,GAArB3X,EAAMiQ,OAAOtR,OACd8Y,EAAKnC,WAAa,SAClBmC,EAAKC,eAAiB1X,EAAM7B,QAAQ0Z,UACpCJ,EAAKE,cAAgB,MAOF,GAAlB3X,EAAMiQ,OAAOxR,GAA4B,GAAlBuB,EAAMiQ,OAAOvR,IACnC+Y,EAAKnC,UAAY,sBAGrBmC,EAAK1Y,UAAW,EAChB0Y,EAAKK,UAAW,EAChBL,EAAKM,cAAe,EAjDHN,EADrB,OAAA7Y,OAAAoZ,EAAA,EAAApZ,CAAAsW,EAAAsC,GAAA5Y,OAAAqZ,EAAA,EAAArZ,CAAAsW,EAAA,EAAAgD,IAAA,wBAAApY,MAAA,SAuDwBqY,GACpB,IAAIC,EAAYtZ,KAAKC,SAErB,GADAD,KAAKC,SAAWoZ,EAAUjZ,WACvBkZ,GAAatZ,KAAKC,SACnB,OAAO,EAIT,GAA8B,MAA3BoZ,EAAUlI,OAAOjR,SAAmBF,KAAKgZ,SAE1C,OADAhZ,KAAKgZ,UAAW,GACT,EAET,IAAIC,EAA8C,MAA/BI,EAAUlI,OAAOhR,WACpC,OAAG8Y,GAAgBjZ,KAAKiZ,eACtBjZ,KAAKiZ,aAAeA,GACb,KAtEb,CAAAG,IAAA,SAAApY,MAAA,WA+EIhB,KAAKC,SAAWD,KAAKkB,MAAMd,WAC3B,IAAIY,EAAQ,GACRP,EAAQ,GACR+V,EAAYxW,KAAKwW,UACjB+C,EAAsB,GACtBC,EAAc,GAkBlB,OAjB+B,MAA5BxZ,KAAKkB,MAAMiQ,OAAOjR,QACnBsW,EAAY,kBACZxV,EAAQhB,KAAKkB,MAAMiQ,OAAOjR,OAAOc,MACjCP,EAAQT,KAAKkB,MAAMiQ,OAAOjR,OAAOO,MACjC8Y,EAAsB,QACe,GAAlCvZ,KAAKkB,MAAMiQ,OAAOjR,OAAOO,QAC1B+Y,EAAc,UAEsB,MAAhCxZ,KAAKkB,MAAMiQ,OAAOhR,aACxBqW,EAAY,sBACZxV,EAAQhB,KAAKkB,MAAMiQ,OAAOhR,WAAWa,MACrCP,EAAQT,KAAKkB,MAAMiQ,OAAOhR,WAAWM,MACrC8Y,EAAsB,QACmB,GAAtCvZ,KAAKkB,MAAMiQ,OAAOhR,WAAWM,QAC9B+Y,EAAc,UAGfxZ,KAAKC,SAEJ+V,EAAA3N,EAAAE,cAAA,OAAK0N,UAAWO,GACdR,EAAA3N,EAAAE,cAAA,OAAK0N,UAAWO,EAAY,YAAasB,MAAO,CAAE2B,WAAczZ,KAAK0Z,SACnE1D,EAAA3N,EAAAE,cAAA,OAAK0N,UAAW,iBAAmBsD,GAAsBvZ,KAAK4Y,gBAC9D5C,EAAA3N,EAAAE,cAAA,OAAK0N,UAAW,gBAAkBsD,GAAsBvZ,KAAK6Y,eAC7D7C,EAAA3N,EAAAE,cAAA,OAAK0N,UAAW,kBAAoBuD,GACjCxY,EACDgV,EAAA3N,EAAAE,cAAA,OAAK0N,UAAW,eACbxV,MASTuV,EAAA3N,EAAAE,cAAA,OAAK0N,UAAWO,GACdR,EAAA3N,EAAAE,cAAA,OAAK0N,UAAW,SAAWuD,GACxBxY,EACDgV,EAAA3N,EAAAE,cAAA,OAAK0N,UAAW,eACbxV,SA5Hf2V,EAAA,CAA4BuD,IAAMlB,WAuInBxX,iECh2Ef2Y,EAAAC,EAAAC,EAAA,sBAAAta,IAAA,IAAMA,EAAO,CACXua,GAAG,CACDlO,iBAAiB,mBACjB8B,aAAa,8BACbgB,WAAW,oBACXG,WAAW,cACXK,SAAS,4DACTI,QAAQ,+CACR0B,YAAY,6CACZG,WAAW,6CACXO,YAAY,iEACZO,YAAY,0BACZC,aAAa,yBACb6B,YAAY,iCACZC,iBAAiB,mDACjBC,cAAc,wCACdU,WAAW,6CACXyB,UAAU,oBACVQ,YAAY,gBACZC,QAAQ,QACRF,WAAW,YACXI,eAAe,qHACfG,QAAQ,yBACRD,aAAa,UACbU,YAAY,6BACZC,eAAe,gCACfiB,YAAY,SACZC,UAAU,OACVP,MAAM,SAERwB,GAAG,CACDnO,iBAAiB,8BACjB8B,aAAa,iCACbgB,WAAW,wBACXG,WAAW,oBACXK,SAAS,wEACTI,QAAQ,wEACR0B,YAAY,qEACZG,WAAW,kDACXO,YAAY,yEACZO,YAAY,kCACZC,aAAa,mCACb6B,YAAY,oCACZC,iBAAiB,2EACjBC,cAAc,iEACdU,WAAW,iDACXyB,UAAU,0BACVQ,YAAY,0BACZC,QAAQ,QACRF,WAAW,eACXI,eAAe,iIACfG,QAAQ,kCACRD,aAAa,UACbU,YAAY,gCACZC,eAAe,sCACfiB,YAAY,UACZC,UAAU,OACVP,MAAM,cAERyB,GAAG,CACDpO,iBAAiB,mBACjB8B,aAAa,6BACbgB,WAAW,sBACXG,WAAW,gBACXK,SAAS,2EACTI,QAAQ,yDACR0B,YAAY,iDACZG,WAAW,oDACXO,YAAY,iEACZO,YAAY,kCACZC,aAAa,iCACb6B,YAAY,gCACZC,iBAAiB,0DACjBC,cAAc,qDACdU,WAAW,2DACXyB,UAAU,mBACVQ,YAAY,gBACZC,QAAQ,MACRF,WAAW,gBACXI,eAAe,qIACfG,QAAQ,+BACRD,aAAa,YACbU,YAAY,gCACZC,eAAe,wCACfiB,YAAY,QACZC,UAAU,UACVP,MAAM,WAER0B,GAAG,CACDrO,iBAAiB,kBACjB8B,aAAa,wBACbgB,WAAW,4BACXG,WAAW,4BACXK,SAAS,qEACTI,QAAQ,8CACR0B,YAAY,4DACZG,WAAW,iDACXO,YAAY,uDACZO,YAAY,gCACZC,aAAa,iCACb6B,YAAY,iCACZC,iBAAiB,6DACjBC,cAAc,6CACdU,WAAW,qDACXyB,UAAU,kBACVQ,YAAY,yBACZC,QAAQ,MACRF,WAAW,sBACXI,eAAe,2FACfG,QAAQ,wCACRD,aAAa,cACbU,YAAY,uCACZC,eAAe,mCACfiB,YAAY,QACZC,UAAU,aACVP,MAAM,iCCnHV2B,EAAAC,QAAA,65gBCAA,SAAA3S,IAAA,SAAU2S,GACRA,EAAQjU,YAAcA,EACtBiU,EAAQC,OAASA,EAEjB,IAAIC,EAAqC,qBAAhBC,YAOzB,SAASpU,EAAYqU,EAAGC,GACtB,IAAIpS,EACa,kBAANmS,IAETA,EAAe,IADfnS,EAAImS,GACE7X,QAGR,IAAI+X,EAAInY,KAAKoY,KAAKH,EAAI,IAClBxV,GAAK,EAIT,GAHAhF,KAAKwa,EAAIA,EAAQ,GAAJE,EACb1a,KAAKya,EAAIA,EAELH,EAAa,CACf,IAAIM,EAAS,GAAKrY,KAAKoY,KAAKpY,KAAKyD,IAAIzD,KAAKoY,KAAKpY,KAAKyD,IAAIwU,GAAKjY,KAAKsY,IAAM,IAAMtY,KAAKsY,KAC/EC,EAAmB,IAAXF,EAAevR,WAAwB,IAAXuR,EAAeG,YAAcC,YACjEC,EAAU,IAAIV,YAAYK,EAASH,GACnCS,EAAUlb,KAAKkb,QAAU,IAAIC,WAAWT,GAC5C,GAAIrS,EAAG,OAASrD,EAAI0V,GAAGQ,EAAQlW,GAAKqD,EAAErD,GACtChF,KAAKob,WAAa,IAAIN,EAAMG,OACvB,CACDC,EAAUlb,KAAKkb,QAAU,GAC7B,GAAI7S,EAAG,OAASrD,EAAI0V,GAAGQ,EAAQlW,GAAKqD,EAAErD,QACjC,OAASA,EAAI0V,GAAGQ,EAAQlW,GAAK,EAClChF,KAAKob,WAAa,IAwGtB,SAASC,EAAOC,GAGd,OAAqC,WADrCA,GAAS,WADTA,GAAMA,GAAK,EAAK,cACSA,GAAK,EAAK,aACrBA,GAAK,GAAK,YAA2B,GAOrD,SAASjB,EAAOiB,EAAGC,GAEjB,IADA,IAAIlT,EAAI,YAAckT,GAAQ,GACrBvW,EAAI,EAAG0V,EAAIY,EAAE3Y,OAAQqC,EAAI0V,IAAK1V,EAAG,CACxC,IAAIqJ,EAAIiN,EAAEE,WAAWxW,GACjB6U,EAAQ,MAAJxL,EACJwL,IAAGxR,EAAIoT,EAAapT,EAAIwR,GAAK,IACjCxR,EAAIoT,EAAapT,EAAQ,IAAJgG,GAEvB,OASF,SAAiBhG,GAMf,OALAA,GAAKA,GAAK,GACVA,GAAKA,IAAM,EACXA,GAAKA,GAAK,EACVA,GAAKA,IAAM,GAEA,YADXA,GAAKA,GAAK,GAdHqT,CAAQrT,GAIjB,SAASoT,EAAapT,GACpB,OAAOA,GAAKA,GAAK,IAAMA,GAAK,IAAMA,GAAK,IAAMA,GAAK,IAAMA,GAAK,IA1H/DlC,EAAY/B,UAAUuX,UAAY,SAASL,GAOzC,IANA,IAAIb,EAAIza,KAAKya,EACTD,EAAIxa,KAAKwa,EACT7U,EAAI3F,KAAKob,WACT/S,EAAIgS,EAAOiB,GACX7R,EAAI4Q,EAAOiB,EAAG,YACd3b,EAAI0I,EAAImS,EACHxV,EAAI,EAAGA,EAAIyV,IAAKzV,EACvBW,EAAEX,GAAKrF,EAAI,EAAKA,EAAI6a,EAAK7a,EACzBA,GAAKA,EAAI8J,GAAK+Q,EAEhB,OAAO7U,GAGTQ,EAAY/B,UAAUmC,IAAM,SAAS+U,GAInC,IAHA,IAAIM,EAAI5b,KAAK2b,UAAUL,EAAI,IACvBb,EAAIza,KAAKya,EACTS,EAAUlb,KAAKkb,QACVlW,EAAI,EAAGA,EAAIyV,IAAKzV,EAAGkW,EAAQ3Y,KAAKC,MAAMoZ,EAAE5W,GAAK,MAAQ,GAAM4W,EAAE5W,GAAK,IAG7EmB,EAAY/B,UAAUuC,KAAO,SAAS2U,GAIpC,IAHA,IAAIM,EAAI5b,KAAK2b,UAAUL,EAAI,IACvBb,EAAIza,KAAKya,EACTS,EAAUlb,KAAKkb,QACVlW,EAAI,EAAGA,EAAIyV,IAAKzV,EAAG,CAC1B,IAAIyE,EAAImS,EAAE5W,GACV,GAAwD,KAAnDkW,EAAQ3Y,KAAKC,MAAMiH,EAAI,KAAQ,GAAMA,EAAI,IAC5C,OAAO,EAGX,OAAO,GAITtD,EAAY/B,UAAUyX,KAAO,WAG3B,IAFA,IAAIX,EAAUlb,KAAKkb,QACfY,EAAO,EACF9W,EAAI,EAAG0V,EAAIQ,EAAQvY,OAAQqC,EAAI0V,IAAK1V,EAAG8W,GAAQT,EAAOH,EAAQlW,IACvE,OAAQhF,KAAKwa,EAAIjY,KAAKyD,IAAI,EAAI8V,EAAO9b,KAAKwa,GAAKxa,KAAKya,GAItDtU,EAAY/B,UAAU+C,UAAY,WAGhC,IAAI4U,EAAY/b,KAAKkb,QAAQvY,OAC3BqZ,EAAS,IAAIvU,EAA0B,GAAlBsU,GAAa,IACpCC,EAAOC,cAAcjc,KAAKya,EAAG,GAE7B,IAAK,IAAIzV,EAAI,EAAGA,EAAI+W,IAAa/W,EAC/BgX,EAAOE,aAAalc,KAAKkb,QAAQlW,GAAe,GAAVA,GAAK,IAG7C,OAAOgX,GAIT7V,EAAYyB,YAAc,SAASpI,GAKjC,IAJA,IAAI2c,EAAS3c,EAAK4c,aAAa,GAC7BC,EAAS7c,EAAKmD,OAAS,GAAM,EAC7BuY,EAAUZ,EAAc,IAAIa,WAAWkB,GAAS,IAAI1b,MAAM0b,GAEnDrX,EAAI,EAAGA,EAAIqX,IAASrX,EAC3BkW,EAAQlW,GAAKxF,EAAK8c,YAAuB,GAAVtX,GAAK,IAGtC,OAAO,IAAImB,EAAY+U,EAASiB,IAGlChW,EAAYkB,cAAgB,SAASkV,GAErC,IADA,IAAIC,EAAM,GACDxX,EAAI,EAAGA,EAAIuX,EAAI5Z,OAAQqC,GAAK,EACnCwX,GAAOvY,OAAOwY,aAAcF,EAAIvX,IAAM,EAAKuX,EAAIvX,EAAI,IAErD,OAAOwX,GAGPrW,EAAYoB,cAAgB,SAASmV,GAEnC,IADA,IAAMH,EAAM,IAAIlT,WAAwB,EAAbqT,EAAI/Z,QACtBqC,EAAI,EAAGA,EAAI0X,EAAI/Z,OAAQqC,IAAK,CAEnC,IAAI2X,EAAOD,EAAIlB,WAAWxW,GAC1BuX,EAAQ,EAAJvX,EAAQ,GAAK2X,GAAQ,EACzBJ,EAAQ,EAAJvX,EAAQ,GAAK2X,EAEnB,OAAOJ,GAGTpW,EAAYyW,gBAAkB,SAASF,GAErC,IADA,IAAMH,EAAM,IAAIxB,YAAY2B,EAAI/Z,QACvBqC,EAAI,EAAGA,EAAI0X,EAAI/Z,OAAQqC,IAAK,CACnC,IAAI2X,EAAO1Y,OAAOwY,aAAaC,EAAI1X,IACnCuX,EAAIvX,GAAK2X,EAEX,OAAOJ,GAtIX,CA6KoCnC,yHCjKhByC,QACW,cAA7B3U,OAAO4U,SAASC,UAEe,UAA7B7U,OAAO4U,SAASC,UAEhB7U,OAAO4U,SAASC,SAASvY,MACvB,2DCZNwY,IAASC,OAAOC,EAAA7U,EAAAE,cAACtH,EAAA,EAAD,MAASqH,SAAS6U,eAAe,SD2H3C,kBAAmBhV,WACrBA,UAAUiV,cAAcC,MAAM3X,KAAK,SAAA4X,GACjCA,EAAaC,kCEnInBpD,EAAAC,QAAiBR,EAAA4D,EAAuB","file":"static/js/main.5937217d.chunk.js","sourcesContent":["import React,  { Component, TimeUnit } from 'react';\nimport ReactDOM from \"react-dom\";\nimport LocalizedStrings from 'react-localization';\nimport { data } from './strings.js'\nimport wordcastlogo from './wordcastlogo_white.svg';\nimport robotemoji from './robot.gif';\n//import arrowleft from './arrowleft.svg';\nimport './App.css';\nimport Distributions from \"./Distributions.json\";\nimport Boards from \"./Boards.json\";\nimport Changelog from \"./Changelog.json\";\n\n\nimport BloomFilter from \"./bloomfilter.js\";\n\nimport axios from 'axios';\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\n\nlet strings = new LocalizedStrings(data);\n\n\nvar CHANNEL = 'urn:x-cast:com.github.minosvasilias.wordcast';\n\nvar VERSIONCUTOFF = 11;\nvar RECEIVERVERSION = 7;\n\n\n\nclass SquareData{\n  constructor(x, y, type) {\n    this.x = x;\n    this.y = y;\n    this.type = type; //0 = NORMAL, 1 = LETTER X2, 2 = LETTER X3, 3 = LETTER X4, 4 = WORD X2, 5 = WORD X3, 6 = WORD X4\n    this.selected = false;\n    this.letter = null;\n    this.tempLetter = null;\n    this.isSelected = false;\n  }\n}\nclass Player{\n  constructor(name, id, androidId) {\n    this.name = name;\n    this.id = id;\n    this.androidId = androidId;\n    this.score = 0;\n    this.letters = new Array();\n    this.turns = new Array();\n    this.clientIndex = 0;\n    this.isPassAlong = false;\n  }\n}\n\nclass Letter{\n  constructor(value, score) {\n    this.value = value;\n    this.score = score;\n  }\n}\n\n\n\nclass App extends Component {\n  constructor(props, context) {\n    super(props);\n    this.state = {\n      width: 0,\n      height: 0,\n      players: {},\n      gameState : 0,//0 = JOINING, 1 = RUNNING, 2 = FINISH\n      cursorLocation: [7,7],\n      curTurn: 0,\n      turnCount: 0,\n      noScoreCount: 0,\n      isFirstLetterDown: false,\n      langIndex: 0,\n      boardIndex: 0,\n      isDict: false,\n      isLoadingDict: false,\n      loadingProgress: 0.0,\n      /*isPassAlong: false,*/\n      isPro: false,\n      locale: \"en\",\n\n    };\n    this.originTempSquare = null;\n    this.originAxis = [-1,-1];\n\n    /*this.specialCoords = [\n      //LX2\n      [[0,3],[0,11],[2,6],[2,8],\n      [3,0],[3,7],[3,14],\n      [6,6],[6,8],[6,12],[6,2],\n      [7,3],[7,11],\n      [8,6],[8,8],[8,12],[8,2],\n      [11,0],[11,7],[11,14],\n      [14,3],[14,11],[12,6],[12,8]],\n      //LX3\n      [[1,5],[1,9],\n      [5,1],[5,5],[5,9],[5,13],\n      [9,1],[9,5],[9,9],[9,13],\n      [13,5],[13,9]],\n      //WX2\n      [[1,1],[2,2],[3,3],[4,4],\n      [10,10],[11,11],[12,12],[13,13],\n      [13,1],[12,2],[11,3],[10,4],\n      [4,10],[3,11],[2,12],[1,13]],\n      //WX3\n      [[0,0],[0,7],[0,14],\n      [7,0],[7,14],\n      [14,0],[14,7],[14,14]],\n      //START SQUARE\n      [[7,7]]\n    ];*/\n\n    this.curDict = [null, null];\n    this.turnLog = new Array();\n\n    /*this.specialCoords = Boards[1].dist;\n    this.setUpBoard();*/\n\n\n    //this.setUpBloom();\n\n    //ENABLE STRING FORMATTING\n    if (!String.format) {\n      String.format = function(format) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return format.replace(/{(\\d+)}/g, function(match, number) {\n          return typeof args[number] != 'undefined'\n            ? args[number]\n            : match\n          ;\n        });\n      };\n    }\n\n\n    this.specialCoords = Boards[this.state.boardIndex].dist;\n    this.setUpBoard();\n\n\n    this.state.players = new Array();\n\n    this.handleMessage = this.handleMessage.bind(this);\n    this.moveCursor = this.moveCursor.bind(this);\n    this.updateDimensions = this.updateDimensions.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.addPlayer = this.addPlayer.bind(this);\n    this.updateSenders = this.updateSenders.bind(this);\n\n  }\n  setUpBoard(){\n    this.gameGrid = new Array(15);\n    for(var i = 0; i < 15; i++){\n      this.gameGrid[i] = new Array(15);\n      for(var ii = 0; ii < 15; ii++){\n        this.gameGrid[i][ii] =  new SquareData(i,ii,0);\n      }\n    }\n\n    this.letterPool = new Array();\n\n    for(var i = 0; i < this.specialCoords.length; i++){\n      for(var ii = 0; ii < this.specialCoords[i].length; ii++){\n        this.gameGrid[this.specialCoords[i][ii][1]][this.specialCoords[i][ii][0]].type = i+1;\n      }\n    }\n  }\n  makeid(length) {\n   var result           = '';\n   var characters       = 'abcdefghijklmnopqrstuvwxyz';\n   var charactersLength = characters.length;\n   for ( var i = 0; i < length; i++ ) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n   }\n   return result;\n }\n setUpBloom(){\n\n      //FIRST, SET INDEX OF DISTRIBUTION\n      var distIndex = 4;\n      var testtruestring = \"betriebswirt\";//\"adfrdspvirkning\";//\"amareleas\";//\"kanker\"//alfeicare\";//SPANISH\"alfeicar\";\n      var testfalsestring = \"weghaun\";//\"blobsy\";\n\n      this.state.langIndex = distIndex;\n      this.initializeLetterPool();\n      var path = Distributions[this.state.langIndex].dictPath;\n\n      //return;\n\n\n   ////////////////////////////\n       let dict;\n       fetch(path)\n       .then((r) => r.text())\n       .then(text  => {\n         //console.log(text);\n         var splitDictRaw = text.split(\"\\n\");\n         console.log(splitDictRaw);\n         var splitDict = new Array();\n\n         var bloom = new BloomFilter.BloomFilter(\n           29572728,//ENGLISH SOWPODS NEW 11548927 ,//DANISH 13403842,//PORTUGUESE 8831002,//DUTCH 7883400,//ENGLISH SOWPODS 6802848,//SPANISH 5975973,//ITALIAN 14898389,//FRENCH 5072222,//ENGLISH OLD 8868648 ,//GERMAN 32000000,//28755176,//25869786,//16284727,//8192 * 256,//32768 * 256,//32 * 256, // number of bits to allocate.\n           30//ENGLISH SOWPODS NEW 30//DANISH 17//PORTUGUES 17//DUTCH 17//ENGLISH SOWPODS 18//SPANISH 17//ITALIAN 16//FRENCH 17//ENGLISH OLD 17//GERMAN11//10//9//6//16        // number of hash functions.\n         );\n         //var trie = new Trie();\n         //console.log(JsSuffixTrie);\n         //var trie = new JsSuffixTrie();\n\n         // Add some elements to the filter.\n         for(var i = 0; i < splitDictRaw.length; i++){\n           var item = splitDictRaw[i].toLowerCase();\n\n\n\n           //ADJUST THESE BASED ON SOURCE AND LANGUAGE\n\n           //TRIM (CAREFUL, ONLY GERMAN AND ENGLISH AND DANSK SO FAR!)\n           //item = item.substring(0, item.length-1);\n\n           //REMOVE DIACRITICS ETC EXCEPT \n           /*var nIndex = item.indexOf(\"\"); //\n           item = item.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\");\n           if(nIndex != -1){\n            item = item.substr(0, nIndex) + \"\" + item.substr(nIndex + 1);\n          }*/\n\n\n\n\n\n           var doAdd = true;\n           /*for(var i = 0; i < item.length; i++){\n             var char = item.charAt(i);\n             if(!this.availableLetters.includes(char)){\n               doAdd = false;\n             }\n           }*/\n\n           if(doAdd){\n             splitDict.push(item);\n             //splitDict[i] = item;\n             bloom.add(item);\n           }\n           //trie.add(item);\n         }\n\n\n         console.log(\"DICT LENGTH: \" + splitDict.length);\n         console.log(splitDict);\n\n               // check contains method\n               //console.log(trie.contains(\"arbeit\"));  // true\n               //console.log(trie.contains(\"fhqap\")); // false\n\n\n               var util = require('util');\n               //var json = util.inspect(trie);\n\n         //var array = [].slice.call(trie.children),\n           //var  json = JSON.stringify(trie);\n         //console.log(json);\n\n         //TMP JSON SAVING\n         /*var json = trie.toJSON();\n         json = JSON.stringify(splitDict);\n         console.log(json);\n         var dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(json);\n\n\n         //TMP JSON SAVING\n         var link = ReactDOM.findDOMNode(this.refs.Link1);\n         link.href = dataUri;\n         console.log(\"JSON READY TO DOWNLOAD\");*/\n\n\n\n         var falsecount = 0;\n         var truecount = 0;\n         for(var i = 0; i < splitDict.length; i++){\n           var item = splitDict[i];\n           var test = bloom.test(item);\n\n           var gib = this.makeid(6);\n           var test2 = bloom.test(gib);\n           if(!test){\n             falsecount += 1;\n             //console.log(gib);\n           }\n           if(test2){\n             truecount += 1;\n             console.log(gib);\n           }\n         }\n         /*if(splitDict.includes('jger')){\n           console.log(\"AAARBEIT\");\n         }*/\n         //console.log(splitDict[101069].toLowerCase());\n         console.log(\"FALSE NEGATIVES: \" + falsecount);\n         console.log(\"FALSE POSITIVES: \" + truecount);\n         var percentage1 = (falsecount / splitDict.length) * 100;\n         var percentage2 = (truecount / splitDict.length) * 100;\n         console.log(\"FALSE NEGATIVES PERCENT: \" + percentage1);\n         console.log(\"FALSE POSITIVES PERCENT: \" + percentage2);\n         // Test if an item is in our filter.\n         // Returns true if an item is probably in the set,\n         // or false if an item is definitely not in the set.\n\n         var testtrue = bloom.test(testtruestring);\n         var testfalse = bloom.test(testfalsestring);\n         console.log(\"TESTTRUE = \" + testtrue + \", TESTFALSE: \" + testfalse);\n\n         // Serialisation. Note that bloom.buckets may be a typed array,\n         // so we convert to a normal array first.\n         /*var array = [].slice.call(bloom.buckets),\n             json = JSON.stringify(array);\n         console.log(json);*/\n\n         //ALTERNATIVE SERIALIZATION\n         var blob = bloom.serialize();\n         //json = BloomFilter.BloomFilter.bytesToString(blob);\n         //console.log(enc.decode(blob));\n         console.log(blob);\n\n\n         let sb = BloomFilter.BloomFilter.bytesToString(blob);\n         let bf = BloomFilter.BloomFilter.stringToBytes(sb);\n         let bf2 = Buffer.from(sb,'utf16le');\n         //bf = bf.swap16();\n         bf2 = bf2.swap16();\n         console.log(bf);\n\n\n\n\n\n        var bloom = BloomFilter.BloomFilter.deserialize(bf2);\n        var testtrue = bloom.test(testtruestring);\n        var testfalse = bloom.test(testfalsestring);\n        console.log(\"TESTTRUE = \" + testtrue + \", TESTFALSE: \" + testfalse);\n\n         console.log(\"-----\");\n\n\n         /*var enc = new TextDecoder(\"utf-8\");\n         var encodedblob = enc.decode(blob);\n         var enc2 = new TextEncoder(\"utf-8\");\n         var blob2 = enc2.encode(encodedblob);\n         console.log(blob2);*/\n\n         blob = blob.swap16();\n         let string = blob.toString('utf16le');\n         let buffer = Buffer.from(string, 'utf16le');\n         console.log(buffer);\n         buffer = buffer.swap16();\n         console.log(buffer);\n\n         // Function to download data to a file\n         var data = bf;\n         var filename = \"test\";\n         var type = \".txt\";\n         var file = new Blob([data],\n                    { type: \"text/plain;charset=utf16le\" }); //\"octet/stream\"\n         //var file = new Blob([data], {type: type});\n         if (window.navigator.msSaveOrOpenBlob) // IE10+\n             window.navigator.msSaveOrOpenBlob(file, filename);\n         else { // Others\n             var a = document.createElement(\"a\"),\n                     url = URL.createObjectURL(file);\n                     //url = URL.createObjectURL(blob);\n             a.href = url;\n             a.download = filename;\n             document.body.appendChild(a);\n             a.click();\n             setTimeout(function() {\n                 document.body.removeChild(a);\n                 window.URL.revokeObjectURL(url);\n             }, 0);\n         }\n\n         //console.log(json);\n\n\n         var bloom = BloomFilter.BloomFilter.deserialize(buffer);\n         var testtrue = bloom.test(testtruestring);\n         var testfalse = bloom.test(testfalsestring);\n         console.log(\"TESTTRUE = \" + testtrue + \", TESTFALSE: \" + testfalse);\n\n         //return;\n         var blobori = bloom.serialize();\n         fetch('/german.bloom')\n         //.then((r) => r.text())\n         .then((r) => r.arrayBuffer())\n         .then(text  => {\n          //console.log(r);\n          var uint8 = new Uint8Array(text);\n          console.log(uint8);\n\n          /*for(var x = 0; x < uint8.length; x++){\n            if(uint8[x] != blobori[x]){\n              console.log(x + \", \" + blob[x] + \" - \" + blobori[x]);\n            }\n          }*/\n          //var text = r.text();\n          //var blob = r.blob();\n           //var enc = new TextEncoder(\"utf-16\");\n           //var blob = enc.encode(json);\n           var blob = Buffer.from(text, 'utf16le');\n           //var blob = BloomFilter.BloomFilter.stringToBytes(text);\n           //blob = blob.swap16();\n           /*for(var x = 0; x < blob.length; x++){\n             if(blob[x] != blobori[x]){\n               console.log(x + \", \" + blob[x] + \" - \" + blobori[x]);\n             }\n           }*/\n           //var blob = BloomFilter.BloomFilter.stringToBytes(text);\n             console.log(blob);\n           var bloom = BloomFilter.BloomFilter.deserialize(blob);\n           var testtrue = bloom.test(testtruestring);\n           var testfalse = bloom.test(testfalsestring);\n           console.log(\"TESTTRUE = \" + testtrue + \", TESTFALSE: \" + testfalse);\n\n           var falsecount = 0;\n           var truecount = 0;\n           for(var i = 0; i < splitDict.length; i++){\n             var item = splitDict[i];\n             var test = bloom.test(item);\n\n             var gib = this.makeid(6);\n             var test2 = bloom.test(gib);\n             if(!test){\n               falsecount += 1;\n               //console.log(item);\n             }\n             if(test2){\n               truecount += 1;\n               //console.log(gib);\n             }\n           }\n           console.log(\"FALSE NEGATIVES FILE: \" + falsecount);\n           console.log(\"FALSE POSITIVES FILE: \" + truecount);\n           var percentage1 = (falsecount / splitDict.length) * 100;\n           var percentage2 = (truecount / splitDict.length) * 100;\n           console.log(\"FALSE NEGATIVES FILE PERCENT: \" + percentage1);\n           console.log(\"FALSE POSITIVES FILE PERCENT: \" + percentage2);\n\n         });\n         //TMP JSON SAVING\n         /*var dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(json);\n\n\n         //TMP JSON SAVING\n         var link = ReactDOM.findDOMNode(this.refs.Link1);\n         link.href = dataUri;\n         console.log(\"JSON READY TO DOWNLOAD\");*/\n\n\n         // Deserialisation. Note that the any array-like object is supported, but\n         // this will be used directly, so you may wish to use a typed array for\n         // performance.\n         //var bloom = new BloomFilter(array, 16);*/\n       });\n }\n\n\n\n\n\n\n\n\n\n\n _handleKeyDown = (e) => {\n\n   switch(e.keyCode){\n     //QUESTIONMARK FOR BLOOM\n     case 219:\n       this.setUpBloom();\n       return;\n     //CONSOLE KEY TO START\n     case 220:\n      this.state.gameState = 1;\n      this.state.langIndex = 1;\n      this.specialCoords = Boards[15].dist;\n      this.setUpBoard();\n      this.initializeLetterPool();\n      this.addPlayer(\"Ajax\", \"1\", \"1\", false, true, 99);\n      this.addPlayer(\"Theseus\", \"2\", \"2\", false, true, 99);\n      this.addPlayer(\"Asterius\", \"3\", \"3\", false, true, 99);\n      this.addPlayer(\"Paris\", \"4\", \"4\", false, true, 99);\n      this.addPlayer(\"Achilles\", \"5\", \"5\", false, true, 99);\n      this.addPlayer(\"Agamemnon\", \"6\", \"6\", false, true, 99);\n      return;\n\n     case 37:\n       this.moveCursor(\"LEFT\");\n       return;\n     case 38:\n       this.moveCursor(\"UP\");\n       return;\n     case 39:\n       this.moveCursor(\"RIGHT\");\n       return;\n     case 40:\n       this.moveCursor(\"DOWN\");\n       return;\n   }\n\n   //RANDOM LETTER\n   var rand = Math.floor(Math.random()*this.letterPool.length);\n   var curSquare = this.gameGrid[this.state.cursorLocation[0]][this.state.cursorLocation[1]];\n   curSquare.letter = this.letterPool[rand];\n   this.letterPool.splice(rand, 1);\n   this.setState({gameState: this.state.gameState});\n   return;\n\n   //CUSTOM LETTER\n   console.log(e.key);\n   for(var i = 0; i < this.letterPool.length; i++){\n     var letter = this.letterPool[i];\n     if(letter.value.toLowerCase() == e.key){\n       var curSquare = this.gameGrid[this.state.cursorLocation[0]][this.state.cursorLocation[1]];\n       curSquare.letter = letter;\n       this.letterPool.splice(i, 1);\n\n     }\n   }\n   this.setState({gameState: this.state.gameState});\n\n }\n\n\n  componentDidMount(){\n    this.updateDimensions();\n    window.addEventListener(\"resize\", this.updateDimensions);\n\n\n\n    document.addEventListener(\"keydown\", this._handleKeyDown);\n\n    //PREVENT TIMEOUT\n    window._setTimeout = window.setTimeout;\n    window.setTimeout = function(a, b) {\n        // disable setTimeout so chromecast won't kill us after 5 minutes...\n    };\n\n    var idleTime = 0;\n\n    //LOAD CAST LOGIC\n\n    this.ctx = window.cast.framework.CastReceiverContext.getInstance();\n    var options = new window.cast.framework.CastReceiverOptions();\n    //options.maxInactivity = 3600; //Development only\n    options.disableIdleTimeout = true;\n\n    //1H IDLE DISCONNECT\n    var idleInterval = setInterval(() => {\n        idleTime = idleTime + 1;\n        if (idleTime > 60) { // 60 minutes\n            this.ctx.stop();\n        }\n      }, 60000);\n\n\n\n    options.customNamespaces = Object.assign({});\n    options.customNamespaces[CHANNEL] = window.cast.framework.system.MessageType.JSON;\n\n    var handleMessage = this.handleMessage;\n    this.ctx.addCustomMessageListener(CHANNEL, function(customEvent) {\n        idleTime = 0;\n        handleMessage(customEvent.data, customEvent.senderId, customEvent.data.id);\n    });\n    this.ctx.addEventListener(window.cast.framework.system.EventType.SENDER_CONNECTED,\n        event => {\n        //CONNECT\n    });\n    this.ctx.addEventListener(window.cast.framework.system.EventType.SENDER_DISCONNECTED,\n        event => {\n        this.handleDisconnect(event.senderId);\n    });\n    this.ctx.start(options);\n\n    //this.updateSenders();\n\n\n  }\n\n  debugOnScreen(message){\n    //document.getElementById(\"content\").innerHTML = message;\n    console.log(message);\n  }\n\n  updateSenders(id){\n    this.connectedSenders = this.ctx.getSenders();\n    var debugstring = \"\";\n    for(var i = 0; i < this.connectedSenders.length; i++){\n      debugstring += this.connectedSenders[i].id + \", \";\n    }\n    this.debugOnScreen(\"MESSAGE RECEIVED FROM ID: \" + id + \" - CONNECTED IDS: \" + debugstring);\n  }\n\n  handleDisconnect(id){\n    for(var i = 0; i < this.state.players.length; i++){\n      var player = this.state.players[i];\n      if(player.id == id){\n        if(this.state.gameState == 0){\n\n          var players = this.findPlayers(player.androidId);\n          for(var ii = 0; ii < players.length; ii++){\n            var player = players[ii];\n            var index = this.state.players.indexOf(player);\n            this.state.players.splice(index, 1);\n          }\n          /*if(player.isPassAlongPlayer){\n            var players = this.findPlayers(player.androidId);\n            for(var ii = 0; ii < players.length; ii++){\n              var player = players[ii];\n              var index = this.state.players.indexOf(player);\n              this.state.players.splice(index, 1);\n            }\n          }\n          else{\n            this.state.players.splice(i, 1);\n          }*/\n          this.sendToast(String.format(strings.playerdisconnect, player.name), undefined);\n          this.setState({players: this.state.players})\n\n\n          /*if(this.state.players.length == 1){\n            this.allowPassAlong(true);\n          }\n          else if(this.state.players.length == 0){\n            this.setState({isPassAlong: false});\n            this.allowPassAlong(true);\n          }*/\n        }\n      }\n    }\n  }\n\n  handleMessage(msg, id, androidId){\n    this.updateSenders(id);\n    if(msg.msg == \"STATE\"){\n        this.sendState(id, androidId);\n    }\n    if(msg.msg == \"HURRYUP\"){\n        this.sendHurryUp();\n    }\n    if(msg.msg == \"ENABLEPRO\"){\n        this.enablePro();\n    }\n    //LOBBY ONLY\n    if(this.state.gameState == 0){\n      if(msg.msg == \"JOIN\"){\n          this.addPlayer(msg.name, id, androidId, msg.isPro, msg.isPassAlongPlayer, msg.versionCode, msg.locale);\n      }\n      if(msg.msg == \"STARTGAME\"){\n          this.startGame(id, androidId, false, false);\n      }\n      if(msg.msg == \"STARTGAMEPASSALONG\"){\n          this.startGame(id, androidId, true, false);\n      }\n      if(msg.msg == \"STARTGAMEBOT\"){\n          this.startGame(id, androidId, true, true);\n      }\n      if(msg.msg == \"LANGUAGE\"){\n          this.switchLanguage(msg.index);\n      }\n      if(msg.msg == \"BOARD\"){\n          this.switchBoard(msg.index);\n      }\n      if(msg.msg == \"DICT\"){\n          this.switchDict(msg.isDict, false);\n      }\n      if(msg.msg == \"DICTLOADCANCEL\"){\n          this.cancelDictDownload();\n      }\n      if(msg.msg == \"PASSALONG\"){\n          this.switchPassAlong(msg.isPassAlong, id, androidId);\n      }\n      if(msg.msg == \"REMOVEPLAYER\"){\n          this.removePlayer(msg.index, id, androidId);\n      }\n    }\n    if(msg.msg == \"CANCEL\"){\n        this.cancelGame(androidId);\n    }\n    //CURRENT PLAYER ONLY\n    if(this.state.players.length == 0 || this.state.gameState != 1)\n      return;\n    if(id != this.state.players[this.state.curTurn].id)\n      return;\n    if(msg.msg == \"MOVE\"){\n        this.moveCursor(msg.dir);\n    }\n    if(msg.msg == \"PLACE\"){\n      this.placeLetter(msg.index, msg.jokerValue, id);\n    }\n    if(msg.msg == \"ENDTURN\"){\n        this.endTurn(id);\n    }\n    if(msg.msg == \"SWAP\"){\n        this.swapLetters(msg.swapIndices, id);\n    }\n    if(msg.msg == \"RESET\"){\n        this.resetTempLetters();\n    }\n  }\n\n  findPlayer(androidId){\n    var player = null;\n    for(var i = 0; i < this.state.players.length; i++){\n      if(this.state.players[i].androidId == androidId){\n        player = this.state.players[i];\n      }\n    }\n    return player;\n  }\n\n  findPlayers(androidId){\n    var players = new Array();\n    for(var i = 0; i < this.state.players.length; i++){\n      if(this.state.players[i].androidId == androidId){\n        var player = this.state.players[i];\n        players.push(player);\n      }\n    }\n    return players;\n  }\n\n  sendState(id, androidId){\n    var json;\n\n    if(this.state.isPro){\n      this.enablePro();\n    }\n\n    var players = this.findPlayers(androidId);\n    if(players.length > 0){\n      if(players[0].isPassAlong){\n        var json = {\"msg\":\"PASSALONG\",\"isPassAlong\":true};\n        this.ctx.sendCustomMessage(CHANNEL , id,  json);\n      }\n    }\n\n    if(this.state.gameState == 0){\n      if(players.length > 0){\n        players[0].id = id;\n        this.sendJoinSuccess(players[0]);\n        return;\n      }else{\n        json = {\"msg\":\"NAME\"};\n        this.ctx.sendCustomMessage(CHANNEL , id,  json);\n        return;\n      }\n    }\n    else if(this.state.gameState == 1){\n\n      if(players.length > 0){\n        //LET PLAYER REJOIN AND SEND INFO\n        for(var i = 0; i < players.length; i++){\n          players[i].id = id;\n\n          //RESET LETTERS IF ITS REJOINING PLAYERS TURN IN ORDER TO AVOID UI MESS\n          if(players[i].androidId == this.state.players[this.state.curTurn].androidId){\n            this.resetTempLetters();\n          }else{\n            //this.sendPlayerLetters(player);\n          }\n          this.sendGameStarted(players[i]);\n        }\n\n        return;\n      }\n    }\n    else if(this.state.gameState == 2){\n      if(players.length > 0){\n        for(var i = 0; i < players.length; i++){\n          //LET PLAYER REJOIN AND SEND INFO\n          players[i].id = id;\n          this.endGame(players[i]);\n          return;\n        }\n      }\n    }\n    json = {\"msg\":\"GAMEONGOING\"};\n    this.ctx.sendCustomMessage(CHANNEL , id,  json);\n\n\n  }\n\n  sendToast(content, id){\n    var json = {\"msg\":\"TOAST\",\"content\":content};\n    this.ctx.sendCustomMessage(CHANNEL , id,  json);\n  }\n\n  cancelGame(androidId){\n    var player = this.findPlayer(androidId);\n    if(this.state.gameState == 1){\n      this.sendToast(String.format(strings.playercancel,player.name), undefined);\n    }\n\n    this.setUpBoard();\n    this.setState({gameState: 0, cursorLocation: [7,7], curTurn: 0,\n                  turnCount: 0, noScoreCount: 0, isFirstLetterDown: false});\n\n    for(var i = 0; i < this.state.players.length; i++){\n      this.state.players[i].score = 0;\n      this.state.players[i].letters = new Array();\n      this.state.players[i].turns = new Array();\n      this.turnLog = new Array();\n      this.sendState(this.state.players[i].id, this.state.players[i].androidId);\n    }\n  }\n\n  cancelDictDownload(){\n    if(this.cancel != null){\n      this.cancel();\n      delete this.curDict;\n    }\n  }\n\n  switchDict(isDict, autoStart){\n    if(this.state.gameState != 0){\n      return;\n    }\n    this.setState({isDict: isDict});\n    var json = {\"msg\":\"DICT\",\"isDict\":isDict};\n    this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n\n\n\n    if(isDict){\n      var langIndex = this.state.langIndex;\n      if(this.curDict == undefined || this.curDict[0] != Distributions[langIndex].name){\n        delete this.curDict;\n\n\n        var dist = Distributions[langIndex];\n        if(dist.dictStatus != 1 || this.state.isLoadingDict)\n          return;\n\n        for(var i = 0; i < this.state.players.length; i++){\n          var json = {\"msg\":\"DICTLOADSTART\"};\n          this.ctx.sendCustomMessage(CHANNEL , this.state.players[i].id,  json);\n        }\n        this.setState({isLoadingDict: true});\n        var total = dist.dictSize;\n        let cancel;\n        axios.get(dist.dictPath, {\n          responseType: 'arraybuffer',\n          cancelToken: new CancelToken(function executor(c) {\n            cancel = c;\n          }),\n          onDownloadProgress: (progressEvent) => {\n            //this.state.players[0].name = progressEvent.loaded;\n            var percent = progressEvent.loaded / total;\n            this.setState({loadingProgress: percent});\n          }\n        })\n        .then((response) => {\n          //PARSE TXT INTO ARRAY\n          //OLD NON BLOOM WAY\n          /*var splitDict = response.data.split(\"\\n\");\n          for(var i = 0; i < splitDict.length; i++){\n            var item = splitDict[i].toLowerCase();\n            var item = item.substring(0, item.length-1);\n            splitDict[i] = item;\n          }*/\n          //BLOOM\n          var data = response.data;\n          var blob = Buffer.from(data, 'utf16le');\n          var bloom = BloomFilter.BloomFilter.deserialize(blob);\n\n          this.sendToast(strings.dictloaded, undefined);\n          this.curDict = [Distributions[langIndex].name, bloom];\n          this.setState({isLoadingDict: false, loadingProgress: 0.0});\n          if(autoStart){\n            this.startGame(this.state.players[0].id, this.state.players[0].androidId, true, true);\n          }\n          else{\n            var json = {\"msg\":\"DICTLOADEND\"};\n            this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n          }\n        })\n        .catch((err) => {\n          this.sendToast(strings.dictfailed, undefined);\n          this.setState({isLoadingDict: false, loadingProgress: 0.0});\n          var json = {\"msg\":\"DICTLOADEND\"};\n          this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n\n          this.setState({isDict: false});\n          var json = {\"msg\":\"DICT\",\"isDict\":false};\n          this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n        })\n        this.cancel = cancel;\n      }else{\n        if(autoStart){\n          this.startGame(this.state.players[0].id, this.state.players[0].androidId, true, true);\n        }\n      }\n\n    }\n\n  }\n\n  switchLanguage(index){\n    if(index != this.state.langIndex){\n      this.setState({langIndex: index});\n      var json = {\"msg\":\"LANGUAGE\",\"index\":index};\n      this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n\n      this.setState({isDict: false});\n      var json = {\"msg\":\"DICT\",\"isDict\":false};\n      this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n    }\n  }\n\n  switchBoard(index){\n    if(index != this.state.boardIndex){\n      this.setState({boardIndex: index});\n      var json = {\"msg\":\"BOARD\",\"index\":index};\n      this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n\n      this.specialCoords = Boards[index].dist;\n      this.setUpBoard();\n      this.setState({gameState: 1});\n      this.setState({gameState: 0});\n    }\n  }\n\n  switchPassAlong(isPassAlong, id, androidId){\n\n    var player = null;\n    var playersToRemove = new Array();\n    var indicesToRemove = new Array();\n    var passAlongIndex = 0;\n    for(var i = 0; i < this.state.players.length; i++){\n      if(this.state.players[i].androidId == androidId){\n        player = this.state.players[i];\n        player.isPassAlong = isPassAlong;\n        if(!isPassAlong && passAlongIndex > 0){\n          playersToRemove.push(player);\n          indicesToRemove.push(passAlongIndex);\n        }\n        passAlongIndex++;\n      }\n    }\n    for(var i = 0; i < playersToRemove.length; i++){\n      var index = this.state.players.indexOf(playersToRemove[i]);\n      this.state.players.splice(index,1);\n    }\n    this.setState({players: this.state.players});\n\n    /*if(indicesToRemove.length > 0){\n      var indicesJson =  JSON.stringify(indicesJson);\n      var json = {\"msg\":\"REMOVEPLAYER\",\"indices\":indicesToRemove};\n      this.ctx.sendCustomMessage(CHANNEL , id,  json);\n    }*/\n\n\n\n    /*if(this.state.players.length == 1){\n        this.setState({isPassAlong: isPassAlong});\n        var json = {\"msg\":\"PASSALONG\",\"isPassAlong\":isPassAlong};\n        this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n    }else{\n      var json = {\"msg\":\"PASSALONG\",\"isPassAlong\":false};\n      this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n      this.allowPassAlong(false);\n    }*/\n  }\n\n  allowPassAlong(allow){\n    var json = {\"msg\":\"ALLOWPASSALONG\",\"allow\":allow};\n    this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n  }\n\n  sendHurryUp(){\n    var json = {\"msg\":\"HURRYUP\"};\n    var player = this.state.players[this.state.curTurn];\n    this.ctx.sendCustomMessage(CHANNEL , player.id,  json);\n  }\n\n  swapLetters(swapIndices, id){\n    if(this.letterPool.length < 7){\n      this.sendToast(strings.swapdeny, id);\n      return;\n    }\n    if(swapIndices.length == 0){\n      this.sendToast(strings.swapmin, id);\n      return;\n    }\n    var player = this.state.players[this.state.curTurn];\n    var offset = 0;\n    var swapLetters = new Array();\n    for(var i = 0; i < swapIndices.length; i++){\n      var rand = Math.floor(Math.random()*this.letterPool.length);\n      var letter = this.letterPool[rand];\n      var prevLetter = player.letters[swapIndices[i]];\n      swapLetters.push(prevLetter);\n\n      player.letters[swapIndices[i]] = letter;\n      this.letterPool.splice(rand, 1);\n    }\n    //ONLY ADD OLD LETTER TO POOL AFTER ALL NEW ONES ARE DRAWN\n    for(var i = 0; i < swapLetters.length; i++){\n      this.letterPool.push(swapLetters[i]);\n    }\n\n    this.setState({players: this.state.players});\n    var lettersJson = JSON.stringify(player.letters);\n    var json = {\"msg\":\"LETTERSDRAW\",\"letters\":lettersJson};\n    this.ctx.sendCustomMessage(CHANNEL , player.id,  json);\n    this.endTurnNoScore(id);\n  }\n\n  endGame(targetPlayer){\n\n    //CAREFUL NOT TO REPEAT SUBTRACTIONS ON REQUESTSTATE\n    if(this.state.gameState != 2){\n      //RESET CURSOR\n      var oldSquare = this.gameGrid[this.state.cursorLocation[0]][this.state.cursorLocation[1]];\n      oldSquare.isSelected = false;\n      this.setState({cursorLocation:[7,7]});\n\n      //SUBTRACT REMAINING LETTERS\n      for(var i = 0; i < this.state.players.length; i++){\n        this.subtractRemainingLetters(this.state.players[i]);\n      }\n\n    }\n    this.setState({gameState: 2});\n\n    //SORT BY SCORE\n    var playersSorted = this.state.players.slice();\n    playersSorted.sort(function(a, b){\n        return a.score - b.score;\n    });\n    var scores = new Array();\n    for(var i = 0; i < playersSorted.length; i++){\n      scores.push({\"name\": playersSorted[i].name, \"score\":playersSorted[i].score});\n      playersSorted[i].clientIndex = i;\n    }\n    for(var i = 0; i < playersSorted.length; i++){\n      var player = playersSorted[i];\n      if(targetPlayer != null && player.androidId == targetPlayer.androidId ||\n        targetPlayer == null){\n          var scoresString = JSON.stringify(scores);\n          var json = {\"msg\":\"GAMEENDED\", \"clientIndex\":player.clientIndex, \"scores\":scoresString};\n          this.ctx.sendCustomMessage(CHANNEL , player.id,  json);\n      }\n\n    }\n  }\n\n  subtractRemainingLetters(player){\n    var sum = 0;\n    for(var i = 0; i < player.letters.length; i++){\n      if(player.letters[i] != null){\n        sum += player.letters[i].score;\n      }\n    }\n    player.score = player.score - sum;\n    if(player.score < 0){\n      player.score = 0;\n    }\n  }\n\n  endTurnNoScore(id){\n    var noScoreCount = this.state.noScoreCount + 1;\n    this.state.players[this.state.curTurn].turns.push([]);\n    this.turnLog.push({\"name\":this.state.players[this.state.curTurn].name, \"turnArray\": []});\n    this.setState({noScoreCount: noScoreCount});\n\n    if(noScoreCount < 6){\n      this.nextTurn();\n    }else{\n      this.endGame(null);\n    }\n  }\n\n  endTurn(id){\n    var tempSquares = this.getTempSquares();\n    if(tempSquares.length == 0){\n        this.isBotTurn = false;\n        this.endTurnNoScore(id);\n        return;\n\n    }\n    var bonusScore = 0;\n    if(tempSquares.length == 7){\n      bonusScore = 50;\n    }\n    //FIND WORDS TO SCORE\n    var words = new Array();\n    var wordStrings = new Array();\n    var mainWord = null;\n    var isConnected = false;\n    for(var i = 0; i < tempSquares.length; i++){\n      var adjSquares = this.getAdjSquares(tempSquares[i]);\n\n      for(var ii = 0; ii < adjSquares.length; ii++){\n        if(adjSquares[ii].letter != null || adjSquares[ii].tempLetter != null){\n          if(adjSquares[ii].letter != null)\n            isConnected = true;\n          //TRACE TEMPLETTER WORD\n          var word = this.getAdjWord(adjSquares[ii],tempSquares[i]).word;\n\n          word.sort(function(a, b){\n            if(a.x != b.x){\n              return a.x - b.x;\n            }\n            else{\n              return a.y - b.y;\n            }\n          });\n\n          //CHECK FOR DUPLICATE\n          var duplicateFound = false;\n          for(var iii = 0; iii < words.length; iii++){\n            if(word.length === words[iii].length && word.every(function(value, index) { return value === words[iii][index]})){\n              duplicateFound = true;\n            }\n          }\n          if(!duplicateFound){\n            words.push(word);\n            //FORM WORD STRING\n            var wordString = \"\";\n            for(var w = 0; w < word.length; w++){\n              if(word[w].letter != null)\n                wordString += word[w].letter.value;\n              if(word[w].tempLetter != null)\n                wordString += word[w].tempLetter.value;\n            }\n            wordStrings.push(wordString);\n          }\n          //mainWord = word;\n\n        }\n      }\n    }\n    if(!isConnected && this.state.isFirstLetterDown){\n      this.resetTempLetters();\n      this.sendToast(strings.tempconnect, id);\n      return;\n    }\n\n    //FIRST TURN MAY JUST BE ONE LETTER\n\n    if(tempSquares.length == 1 && !this.state.isFirstLetterDown){\n      var word = new Array();\n      word.push(tempSquares[0]);\n      words.push(word);\n    }\n    if(!this.state.isFirstLetterDown && words.length > 0){\n      var word = words[0];\n      var isOnCenterSquare = false;\n      for(var i = 0; i < word.length; i++){\n        var square = word[i];\n        if(square.x == 7 && square.y == 7){\n          isOnCenterSquare = true;\n        }\n      }\n      if(!isOnCenterSquare){\n        this.resetTempLetters();\n        this.sendToast(strings.tempcenter, id);\n        return;\n      }\n    }\n\n\n    //IF MORE THAN ONE WORD ON BOT TURN\n    //CHANCE TO FAIL IN ORDER TO ENCOURAGE LESS CLUSTERING\n    if(this.isBotTurn){\n      if(wordStrings.length > 1){\n        var rand = Math.floor(Math.random()*2);\n        if(rand == 1){\n          this.resetTempLetters();\n          return;\n        }\n      }\n    }\n\n\n    //CHECK DICT IF ENABLED\n    if(this.state.isDict){\n      var check = this.checkWords(wordStrings);\n      var illegalWords = check.illegalWords;\n      if(illegalWords.length > 0){\n        this.resetTempLetters();\n        this.sendToast(check.illegalString, id);\n        return;\n      }\n    }\n\n\n  //SPECIAL RULES FOR SPANISH\n  if(Distributions[this.state.langIndex].hasDoubles){\n      for(var w = 0; w < words.length; w++){\n        var word = words[w];\n        var prevLetter = \"\";\n        for(var i = 0; i < word.length; i++){\n          var square = word[i];\n          var curLetter = \"\";\n          if(square.tempLetter != null){\n            curLetter = square.tempLetter.value;\n          }else{\n            curLetter = square.letter.value;\n          }\n          if(i != 0){\n            if(Distributions[this.state.langIndex].name == \"Espaol\"){\n              if(prevLetter == \"C\" && curLetter == \"H\" ||\n                 prevLetter == \"L\" && curLetter == \"L\" ||\n                 prevLetter == \"R\" && curLetter == \"R\"){\n                   this.resetTempLetters();\n                   //this.sendToast(\"You must use the \" + prevLetter + curLetter + \" letter instead of \" + prevLetter + \" and \" + curLetter + \" separately!\", id);\n                   this.sendToast(String.format(strings.dualletters,prevLetter + curLetter, prevLetter, curLetter),id);\n                   return;\n              }\n            }\n            if(Distributions[this.state.langIndex].name == \"Hrvatski\"){\n              if(prevLetter == \"L\" && curLetter == \"J\" ||\n                 prevLetter == \"N\" && curLetter == \"J\" ||\n                 prevLetter == \"D\" && curLetter == \"\"){\n                   this.resetTempLetters();\n                   this.sendToast(String.format(strings.dualletters,prevLetter + curLetter, prevLetter, curLetter),id);\n                   return;\n              }\n            }\n          }\n          prevLetter = curLetter;\n        }\n      }\n    }\n\n    //////////////////////////////////\n\n\n    //SCORE WORDS\n    var totalScore = 0;\n    var turnLog = new Array();\n    var debugstring = \"\";\n    for(var w = 0; w < words.length; w++){\n      debugstring += \" --- WORD: \";\n      var word = words[w];\n      var score = 0;\n      var wordMultiplier = 1;\n      var wordString = \"\";\n      for(var i = 0; i < word.length; i++){\n        var square = word[i];\n        if(square.tempLetter != null){\n          square.letter = square.tempLetter;\n          square.tempLetter = null;\n        }\n        var letterScore = 0;\n        if(square.type == 1){\n          letterScore = square.letter.score * 2;\n        }\n        else if(square.type == 2){\n          letterScore = square.letter.score * 3;\n        }\n        else if(square.type == 3){\n          letterScore = square.letter.score * 4;\n        }\n        else{\n          letterScore = square.letter.score;\n        }\n        score += letterScore;\n\n\n\n\n\n\n        debugstring += square.letter.value + \"(\"+letterScore+\")-\";\n        wordString += square.letter.value;\n        if(square.letter.value == \"\"){\n          wordString += \"_\";\n        }\n        //ACCOUNT FOR PROBABLY IMPOSSIBLE SCENARIO OF BOTH WORD MULTIPLIERS USED\n        if(square.type == 4 || square.type == 7){\n          wordMultiplier = wordMultiplier * 2;\n        }\n        if(square.type == 5){\n          wordMultiplier = wordMultiplier * 3;\n        }\n        if(square.type == 6){\n          wordMultiplier = wordMultiplier * 4;\n        }\n      }\n      score = score * wordMultiplier;\n      totalScore += score;\n      wordStrings.push(wordString);\n      turnLog.push([wordString,score]);\n      debugstring += \" SCORE: \" + score;\n    }\n\n\n    if(bonusScore != 0){\n      turnLog.splice(0,0,[\"Bonus\",50]);\n    }\n\n    this.isBotTurn = false;\n\n    //APPLY SCORE\n    totalScore += bonusScore;\n    debugstring += \" --- BONUS: + \" + bonusScore + \" --- TOTAL: \" + totalScore;\n\n\n    //END NO SCORE STREAK\n    this.setState({noScoreCount: 0});\n    //IF VERY FIRST TURN IS A PASS, THIS MAKES SURE WE KNOW WHEN THE GAME REALLY STARTED\n    this.state.isFirstLetterDown = true;\n    this.state.players[this.state.curTurn].score += totalScore;\n\n    //CHANGE TYPE OF USED SQUARES TO ZERO: SPECIAL TYPES CAN ONLY BE USED ON THE TURN THEY ARE COVERED\n    for(var w = 0; w < words.length; w++){\n      var word = words[w];\n      for(var i = 0; i < word.length; i++){\n        word[i].type = 0;\n      }\n    }\n\n    //ADD TURN TO PLAYER HISTORY\n    this.state.players[this.state.curTurn].turns.push(turnLog);\n    this.turnLog.push({\"name\":this.state.players[this.state.curTurn].name, \"turnArray\": turnLog});\n\n\n    // DEBUG\n    var dstring = \"\";\n    this.debugOnScreen(\"WORD SCORED: \" + debugstring);\n\n    this.drawLetters(this.state.players[this.state.curTurn]);\n\n    //CHECK FOR GAME END\n    var isEmpty = true;\n    var playerLetters = this.state.players[this.state.curTurn].letters;\n    for(var i = 0; i < playerLetters.length; i++){\n      if(playerLetters[i] != null){\n        isEmpty = false;\n      }\n    }\n    if(isEmpty)\n      this.endGame(null);\n\n    //SWITCH TURNS\n    this.nextTurn();\n  }\n\n  checkWords(words){\n    var bloom = this.curDict[1];\n    var illegalWords = new Array();\n    var illegalString = \"\";\n    for(var i = 0; i < words.length; i++){\n      var isWord = bloom.test(words[i].toLowerCase());\n      if(!isWord){\n        if(illegalWords.length > 0){\n          illegalString += \", \";\n        }\n        illegalWords.push(words[i]);\n        illegalString += words[i];\n\n      }\n    }\n    if(illegalWords.length == 1){\n      //illegalString += \" is an invalid word!\"\n      illegalString = String.format(strings.invalidword,illegalString);\n    }else{\n      //illegalString += \" are invalid words!\";\n      illegalString = String.format(strings.invalidwords,illegalString);\n    }\n    return {illegalWords: illegalWords, illegalString: illegalString};\n\n  }\n\n  checkWordsOLD(words){\n    var splitDict = this.curDict[1];\n    var illegalWords = new Array();\n    var illegalString = \"\";\n    for(var i = 0; i < words.length; i++){\n      var isWord = splitDict.includes(words[i].toLowerCase());\n      if(!isWord){\n        illegalWords.push(words[i]);\n        illegalString += words[i];\n      }\n      if(i != words.length-1){\n        illegalString += \", \";\n      }\n    }\n    if(words.length == 1){\n      illegalString += \" is an invalid word!\"\n    }else{\n      illegalString += \" are invalid words!\";\n    }\n    return {illegalWords: illegalWords, illegalString: illegalString};\n\n  }\n\n  doBotTurn(){\n    this.isBotTurn = true;\n    this.timer = setInterval(() => {\n              this.getRandomWords();\n              clearInterval(this.timer);\n            }, 800);\n  }\n\n\n  getRandomWords(){\n    var player = this.state.players[this.state.curTurn];\n    var fixedSquares = this.getFixedSquares();\n\n    //IF BOARD EMPTY, LET PLAYER DO FIRST TURN\n    if(fixedSquares.length == 0){\n      this.endTurn(\"BOT\");\n      return;\n    }\n\n    //CHANCE TO SKIP TURN\n    rand = Math.floor(Math.random()*20);\n    if(rand == 1){\n        this.endTurn(\"BOT\");\n        return;\n    }\n\n    for(var i = 0; i < 1000; i++){\n      if(!this.isBotTurn){\n        return;\n      }\n      var letters = this.state.players[this.state.curTurn].letters;\n\n      var rand = Math.floor(Math.random()*fixedSquares.length);\n\n      var curSquare = fixedSquares[rand];\n      var adjSquares = this.getAdjSquares(curSquare);\n      rand = Math.floor(Math.random()*adjSquares.length);\n      if(adjSquares[rand].letter == null){\n        var space = new Array();\n        //space.push(adjSquares[rand]);\n        //space.push(curSquare);\n        var dir = [adjSquares[rand].x - curSquare.x, adjSquares[rand].y - curSquare.y];\n        var nextSquares = [curSquare,curSquare];\n        var posEndFound = false;\n        var negEndFound = false;\n        while(!posEndFound || !negEndFound){\n          //POSITIVE DIR\n          var nextX = nextSquares[0].x+dir[0];\n          var nextY = nextSquares[0].y+dir[1];\n          if(nextX>-1 && nextX<15 && nextY>-1 && nextY<15 && !posEndFound){\n            var nextSquare = this.gameGrid[nextX][nextY];\n            if(nextSquare.tempLetter == null && nextSquare.letter == null){\n              nextSquares[0] = nextSquare;\n              space.push(nextSquare);\n              //this.sendToast(\"SPACE: \" + nextX + \",\" + nextY, undefined);\n              if(space.length > 5){\n                posEndFound = true;\n              }\n\n              rand = Math.floor(Math.random()*3);\n              if(rand == 1){\n                posEndFound = true;\n              }\n            }\n            else{\n              posEndFound = true;\n            }\n          }\n          else{\n            posEndFound = true;\n          }\n          //NEGATIVE DIR\n          nextX = nextSquares[1].x+(dir[0]*-1);\n          nextY = nextSquares[1].y+(dir[1]*-1);\n          if(nextX>-1 && nextX<15 && nextY>-1 && nextY<15 && !negEndFound){\n            var nextSquare = this.gameGrid[nextX][nextY];\n            if(nextSquare.tempLetter == null && nextSquare.letter == null){\n              nextSquares[1] = nextSquare;\n              space.push(nextSquare);\n              if(space.length > 5){\n                negEndFound = true;\n              }\n              rand = Math.floor(Math.random()*3);\n              if(rand == 1){\n                negEndFound = true;\n              }\n            }\n            else{\n              negEndFound = true;\n            }\n          }\n          else{\n            negEndFound = true;\n          }\n        }\n        //this.sendToast(\"SPACE FOUND: \" + space.length, undefined);\n        //this.sendToast(\"SPACE REP: \" + i);\n\n        for(var ii = 0; ii < space.length; ii++){\n          var isNull = true;\n          var tries = 0;\n          while(isNull){\n            tries++;\n            if(tries > 1000){\n              break;\n            }\n            rand = Math.floor(Math.random()*letters.length);\n            if(letters[rand] != null){\n\n              if(letters[rand].value == \"\"){\n                var jokerrand = Math.floor(Math.random()*this.availableLetters.length);\n                letters[rand].value = this.availableLetters[jokerrand];\n              }\n              space[ii].tempLetter = letters[rand];\n              letters[rand] = null;\n              isNull = false;\n            }\n          }\n\n        }\n\n        this.setState({players: this.state.players});\n        //this.resetTempLetters();\n        //return;\n        this.endTurn(\"BOT\");\n\n\n\n      }\n\n    }\n    this.endTurn(\"BOT\");\n  }\n\n\n\n\n  nextTurn(){\n    var nextTurn = this.state.curTurn + 1;\n    var oldTurn = this.state.curTurn;\n    if(nextTurn >= this.state.players.length){\n      nextTurn = 0;\n    }\n    this.setState({turnCount: this.state.turnCount+1})\n    this.setState({curTurn:nextTurn});\n    for(var i = 0; i<this.state.players.length; i++){\n      var isTurn = nextTurn == i;\n      var turnName = this.state.players[nextTurn].name;\n\n      //var turnLogJson = JSON.stringify(this.state.players[i].turns);\n      var turnLogJson = JSON.stringify(this.turnLog);\n      if(!this.state.players[i].isPassAlong || isTurn || !this.isDeviceTurn(this.state.players[i].androidId)){\n\n        if(this.state.players[i].id == \"BOT\" && isTurn){\n            this.doBotTurn();\n        }\n\n        var json = {\"msg\":\"NEXTTURN\", \"isTurn\":isTurn, \"turnName\":turnName, \"turnLog\":turnLogJson};\n        this.ctx.sendCustomMessage(CHANNEL , this.state.players[i].id,  json);\n        this.sendPlayerLetters(this.state.players[i]);\n      }\n    }\n  }\n\n  getTempSquares(){\n    var tempSquares = new Array();\n    for(var i = 0; i < this.gameGrid.length; i++){\n      for(var ii = 0; ii < this.gameGrid[i].length; ii++){\n        var square = this.gameGrid[i][ii];\n        if(square.tempLetter != null){\n          tempSquares.push(square);\n        }\n      }\n    }\n    return tempSquares;\n  }\n\n  getFixedSquares(){\n    var fixedSquares = new Array();\n    for(var i = 0; i < this.gameGrid.length; i++){\n      for(var ii = 0; ii < this.gameGrid[i].length; ii++){\n        var square = this.gameGrid[i][ii];\n        if(square.letter != null){\n          fixedSquares.push(square);\n        }\n      }\n    }\n    return fixedSquares;\n  }\n\n  getAdjSquares(square){\n    var x = square.x;\n    var y = square.y;\n    var adjSquares = new Array();\n    if(x+1<15)\n      adjSquares.push(this.gameGrid[x+1][y]);\n    if(x-1>-1)\n      adjSquares.push(this.gameGrid[x-1][y]);\n    if(y+1<15)\n      adjSquares.push(this.gameGrid[x][y+1]);\n    if(y-1>-1)\n      adjSquares.push(this.gameGrid[x][y-1]);\n    return adjSquares;\n  }\n\n  getAdjWord(adjSquare, curSquare){\n    var dir = [adjSquare.x - curSquare.x, adjSquare.y - curSquare.y];\n    var posEndFound = false;\n    var negEndFound = false;\n    var originFound = false;\n    var word = new Array();\n    word.push(curSquare);\n    //START WITH CURRENT SQUARE FOR BOTH DIRECTIONS\n    var nextSquares = [curSquare,curSquare];\n    while(!posEndFound || !negEndFound){\n      //POSITIVE DIR\n      var nextX = nextSquares[0].x+dir[0];\n      var nextY = nextSquares[0].y+dir[1];\n      if(nextX>-1 && nextX<15 && nextY>-1 && nextY<15){\n        var nextSquare = this.gameGrid[nextX][nextY];\n        if(nextSquare.tempLetter != null || nextSquare.letter != null){\n          nextSquares[0] = nextSquare;\n          word.push(nextSquare);\n          if(nextSquare.x == this.originTempSquare.x && nextSquare.y == this.originTempSquare.y){\n            originFound = true;\n          }\n        }\n        else{\n          posEndFound = true;\n        }\n      }\n      else{\n        posEndFound = true;\n      }\n      //NEGATIVE DIR\n      nextX = nextSquares[1].x+(dir[0]*-1);\n      nextY = nextSquares[1].y+(dir[1]*-1);\n      if(nextX>-1 && nextX<15 && nextY>-1 && nextY<15){\n        var nextSquare = this.gameGrid[nextX][nextY];\n        if(nextSquare.tempLetter != null || nextSquare.letter != null){\n          nextSquares[1] = nextSquare;\n          word.push(nextSquare);\n          if(nextSquare.x == this.originTempSquare.x && nextSquare.y == this.originTempSquare.y){\n            originFound = true;\n          }\n        }\n        else{\n          negEndFound = true;\n        }\n      }\n      else{\n        negEndFound = true;\n      }\n    }\n    return {word : word, originFound : originFound}\n  }\n\n  placeLetter(index, jokerValue, id){\n    var curSquare = this.gameGrid[this.state.cursorLocation[0]][this.state.cursorLocation[1]];\n    var curLetter = this.state.players[this.state.curTurn].letters[index];\n    var isLegal = true;\n    if(curSquare.letter != null || curSquare.tempLetter != null || curLetter == null){\n      isLegal = false;\n      this.sendToast(strings.squareinuse, id);\n    }\n    var tempSquares = this.getTempSquares();\n    if(tempSquares.length == 0){\n      this.originTempSquare = curSquare;\n      this.debugOnScreen(\"ORIGINTEMPSQUARE: \" + this.originTempSquare.x + \",\"+this.originTempSquare.y);\n\n    }\n    else if(tempSquares.length > 0){\n      var adjSquares = this.getAdjSquares(curSquare);\n      var originFound = false;\n\n      for(var ii = 0; ii < adjSquares.length; ii++){\n        if(adjSquares[ii].letter != null || adjSquares[ii].tempLetter != null){\n          if(this.getAdjWord(adjSquares[ii], curSquare).originFound)\n            originFound = true;\n\n        }\n      }\n      if(!originFound){\n        isLegal = false;\n        if(tempSquares.length > 1){\n          if(this.originAxis[0] != -1 && curSquare.x != this.originAxis[0] ||\n             this.originAxis[1] != -1 && curSquare.y != this.originAxis[1] ){\n            this.sendToast(strings.tempstraightline, id);\n          }else{\n            this.sendToast(strings.tempconnected, id);\n          }\n        }else{\n          this.sendToast(strings.tempconnected, id);\n        }\n      }\n      else{\n\n        if(tempSquares.length == 1){\n          if(this.originTempSquare.x == curSquare.x){\n            this.originAxis = [curSquare.x,-1];\n          }else{\n            this.originAxis = [-1,curSquare.y];\n          }\n        }\n        if(tempSquares.length > 1){\n          if(this.originAxis[0] != -1 && curSquare.x != this.originAxis[0] ||\n             this.originAxis[1] != -1 && curSquare.y != this.originAxis[1] ){\n            isLegal = false;\n            this.sendToast(strings.tempstraightline, id);\n          }\n        }\n        this.debugOnScreen(\"ORIGIN FOUND! AXIS: \" + this.originAxis[0] +\",\" +this.originAxis[1]);\n\n      }\n    }\n\n\n    if(isLegal){\n      if(curLetter.value == \"\"){\n        curLetter.value = jokerValue;\n      }\n      curSquare.tempLetter = curLetter;\n      this.state.players[this.state.curTurn].letters[index] = null;\n      this.setState({players: this.state.players});\n      var json = {\"msg\":\"PLACED\",\"index\":index};\n      this.ctx.sendCustomMessage(CHANNEL , id,  json);\n    }\n  }\n\n  resetTempLetters(){\n    var tempSquares = this.getTempSquares(false);\n    var player = this.state.players[this.state.curTurn];\n    var offset = 0;\n    for(var i = 0; i < tempSquares.length; i++){\n      while(player.letters[i+offset] != null){\n        offset += 1;\n      }\n      if(tempSquares[i].tempLetter.score == 0){\n        tempSquares[i].tempLetter.value = \"\";\n      }\n      player.letters[i+offset] = tempSquares[i].tempLetter;\n      tempSquares[i].tempLetter = null;\n    }\n    this.setState({players: this.state.players});\n    this.sendPlayerLetters(player);\n  }\n\n  moveCursor(dir){\n    var oldSquare = this.gameGrid[this.state.cursorLocation[0]][this.state.cursorLocation[1]];\n    var x = this.state.cursorLocation[0];\n    var y = this.state.cursorLocation[1];\n    this.debugOnScreen(\"MOVING CURSOR \" + dir);\n    switch(dir){\n      case \"UP\":\n        y -= 1;\n        break;\n      case \"DOWN\":\n        y += 1;\n        break;\n      case \"LEFT\":\n        x -= 1;\n        break;\n      case \"RIGHT\":\n        x += 1;\n        break;\n      default:\n        break;\n    }\n    if(x > -1 && x < 15 && y > -1 && y < 15){\n      var curSquare = this.gameGrid[x][y];\n      oldSquare.isSelected = false;\n      curSquare.isSelected = true;\n      this.setState({cursorLocation:[x,y]});\n      //this.debugOnScreen(\"MOVED CURSOR TO \"+ this.state.cursorLocation[0] + \",\" + this.state.cursorLocation[1]);\n    }\n\n  }\n\n  startGame(id, androidId, forcestart, addbot){\n    var players = this.findPlayers(androidId);\n    if(players[0].isPassAlong && !forcestart){\n      var playerNames = new Array();\n      for(var i = 0; i < players.length; i++){\n        playerNames.push (players[i].name);\n      }\n      var playerNamesJson = JSON.stringify(playerNames);\n\n      var json = {\"msg\":\"CHOOSEPLAYERS\", \"playerNames\":playerNamesJson};\n      this.ctx.sendCustomMessage(CHANNEL , id,  json);\n      return;\n    }\n    //SOLO PLAY\n    if(this.state.players.length == 1){\n      var isBot = Distributions[this.state.langIndex].dictStatus == 1;\n\n      if(!forcestart){\n        var json = {\"msg\":\"SOLOALERT\", \"isBot\":isBot};\n        this.ctx.sendCustomMessage(CHANNEL , id,  json);\n        return;\n      }\n\n      if(isBot && addbot){\n        if(this.state.isDict){\n          this.addPlayer(\"\", \"BOT\", \"BOT\", false, false, 99999, undefined);\n        }\n        else{\n          this.switchDict(true, true);\n          return;\n        }\n      }\n    }else{\n      if(this.state.players[1].id != \"BOT\"){\n        if(this.state.isDict &&  !this.state.isPro){\n          this.switchDict(false, false);\n        }\n      }\n    }\n    /*if(this.state.isPassAlong && this.state.players.length < 2){\n      var json = {\"msg\":\"CHOOSEPLAYERS\", \"name\":player.name};\n      this.ctx.sendCustomMessage(CHANNEL , id,  json);\n      return;\n    }*/\n    this.debugOnScreen(\"GAME STARTED\");\n\n    this.specialCoords = Boards[this.state.boardIndex].dist;\n    this.setUpBoard();\n\n    this.initializeLetterPool();\n    this.gameGrid[7][7].isSelected = true;\n    this.setState({cursorLocation:[7,7]});\n\n    for(var i = 0; i<this.state.players.length; i++){\n      var player = this.state.players[i];\n      this.drawLettersInit(player);\n      this.sendGameStarted(player);\n    }\n    this.setState({gameState:1});\n  }\n\n  sendGameStarted(player){\n    var playerIndex = -1;\n    playerIndex = this.state.players.indexOf(player);\n    /*for(var i = 0; i < this.state.players.length; i++){\n      if(this.state.players[i].androidId == player.androidId){\n        playerIndex = i;\n      }\n    }*/\n    var isTurn = this.state.curTurn == playerIndex;\n    var turnName = this.state.players[this.state.curTurn].name;\n    //var turnLogJson = JSON.stringify(this.state.players[playerIndex].turns);\n    var turnLogJson = JSON.stringify(this.turnLog);\n\n    if(!player.isPassAlong || isTurn || !this.isDeviceTurn(player.androidId)){\n      this.sendPlayerLetters(player);\n      var json = {\"msg\":\"GAMESTARTED\", \"isTurn\":isTurn, \"turnName\":turnName, \"letters\":this.availableLetters, \"turnLog\":turnLogJson};\n      this.ctx.sendCustomMessage(CHANNEL , player.id,  json);\n    }\n  }\n\n  isDeviceTurn(androidId){\n    var players = this.findPlayers(androidId);\n    var isDeviceTurn = false;\n    for(var i = 0; i < players.length; i++){\n      var isTurn = this.state.curTurn == this.state.players.indexOf(players[i]);\n      if(isTurn){\n        isDeviceTurn = true;\n      }\n    }\n    return isDeviceTurn;\n  }\n\n  initializeLetterPool(){\n    var letters = Distributions[this.state.langIndex].dist;\n    this.letterPool = new Array();\n    this.availableLetters = new Array();\n    for(var i = 0; i < letters.length; i++){\n      if(letters[i].length > 0){\n        for(var ii = 0; ii < letters[i].length; ii++){\n          if(!this.availableLetters.includes(letters[i][ii][0]) && letters[i][ii][0] != \"\"){\n            this.availableLetters.push(letters[i][ii][0]);\n          }\n          for(var iii = 0; iii < letters[i][ii][1]; iii++){\n            var letter = new Letter(letters[i][ii][0],i);\n            this.letterPool.push(letter);\n          }\n        }\n      }\n    }\n    this.availableLetters.sort();\n    console.log(this.availableLetters);\n  }\n\n  sendPlayerLetters(player){\n    var lettersJson = JSON.stringify(player.letters);\n    var json = {\"msg\":\"LETTERSDRAW\",\"letters\":lettersJson};\n    this.ctx.sendCustomMessage(CHANNEL , player.id,  json);\n  }\n  drawLettersInit(player){\n    var diff = 7 - player.letters.length;\n    for(var i = 0; i < diff; i++){\n      var rand = Math.floor(Math.random()*this.letterPool.length);\n      var letter = this.letterPool[rand];\n      this.letterPool.splice(rand, 1);\n      player.letters.push(letter);\n    }\n    //this.sendPlayerLetters(player);\n  }\n  drawLetters(player){\n    for(var i = 0; i < 7; i++){\n      if(player.letters[i] == null){\n        if(this.letterPool.length != 0){\n          var rand = Math.floor(Math.random()*this.letterPool.length);\n          var letter = this.letterPool[rand];\n          player.letters[i] = letter;\n          this.letterPool.splice(rand, 1);\n        }\n      }\n    }\n    //this.sendPlayerLetters(player);\n  }\n\n  addPlayer(name, id, androidId, isPro, isPassAlongPlayer, versionCode, locale){\n    if(versionCode < VERSIONCUTOFF){\n      var json = {\"msg\":\"OUTOFDATEALERT\"};\n      this.ctx.sendCustomMessage(CHANNEL , id,  json);\n      //this.sendToast(\"Your app is out of date. Please update Wordcast in the Play Store.\", id);\n      return;\n    }\n\n    if(!isPassAlongPlayer){\n      /*if(this.state.isPassAlong){\n        this.sendToast(\"You may not join a game that is in Pass-Along mode!\", id)\n        return;\n      }*/\n      var json = {\"msg\":\"PASSALONG\",\"isPassAlong\":false};\n      this.ctx.sendCustomMessage(CHANNEL , id,  json);\n      for(var i = 0; i < this.state.players.length; i++){\n        if(this.state.players[i].androidId == androidId){\n          return;\n        }\n      }\n    }\n\n    if(this.state.players.length > 4){\n      this.sendToast(String.format(strings.maxplayers,this.state.players.length), id);\n      return;\n    }\n    if(this.state.players.length == 0){\n      if(locale != null && locale != undefined){\n        this.setState({locale: locale});\n        strings.setLanguage(locale);\n      }\n    }\n\n    var newPlayers = this.state.players.slice();\n    var newPlayer = new Player(name, id, androidId);\n    newPlayer.isPassAlong = isPassAlongPlayer;\n    newPlayers.push(newPlayer);\n    this.setState({players:newPlayers})\n    this.debugOnScreen(\"NEW PLAYER: \" + name + \", ID: \" + id);\n\n    if(isPro){\n      this.enablePro();\n    }\n\n    if(!isPassAlongPlayer){\n      this.sendJoinSuccess(newPlayer);\n    }\n    else{\n      this.sendPassAlongJoinSuccess(newPlayer);\n    }\n  }\n\n  removePlayer(index, id, androidId){\n    var players = this.findPlayers(androidId);\n    if(players.length < index + 1){\n      return;\n    }\n    var player = players[index];\n    var removeIndex = this.state.players.indexOf(player);\n\n    this.state.players.splice(removeIndex, 1);\n    this.setState({players: this.state.players})\n\n    var indices = new Array();\n    indices.push(index);\n    var indicesJson = JSON.stringify(indices);\n    var json = {\"msg\":\"REMOVEPLAYER\", \"indices\": indicesJson};\n    this.ctx.sendCustomMessage(CHANNEL , id,  json);\n  }\n\n  enablePro(){\n    this.setState({isPro:true});\n    var json = {\"msg\":\"ISPRO\"};\n    this.ctx.sendCustomMessage(CHANNEL , undefined,  json);\n  }\n\n\n  sendJoinSuccess(player){\n    //GET AVAILABLE LANGUAGES\n    var langs = new Array();\n    for(var i = 0; i < Distributions.length; i++){\n      langs.push({name:Distributions[i].name, dictStatus:Distributions[i].dictStatus, dictInfo:Distributions[i].dictInfo});\n    }\n    var boards = new Array();\n    for(var i = 0; i < Boards.length; i++){\n      boards.push(Boards[i].name);\n    }\n    var langsJson = JSON.stringify(langs);\n    var boardsJson = JSON.stringify(boards);\n\n    //RESET BOT CHANGES\n    if(this.state.players.length > 1 && player.id != \"BOT\"){\n      if(this.state.isLoadingDict && !this.state.isPro){\n        this.cancelDictDownload();\n      }\n      //PROBABLY NOT NEEDED\n      if(this.state.players[1].id == \"BOT\"){\n        this.switchDict(false, false);\n        this.state.players.splice(1, 1);\n        this.setState({players: this.state.players});\n      }\n    }\n\n\n    var json = {\"msg\":\"JOINSUCCESS\", \"langs\":langsJson, \"langIndex\":this.state.langIndex, \"boards\": boardsJson, \"boardIndex\": this.state.boardIndex, \"isDict\":this.state.isDict, \"isLoadingDict\":this.state.isLoadingDict, \"isPro\":this.state.isPro};\n    this.ctx.sendCustomMessage(CHANNEL , player.id,  json);\n\n\n    //UPDATEALERT\n    var json = {\"msg\":\"UPDATEALERT\", \"receiverVersion\":RECEIVERVERSION, \"alertTitle\":Changelog[RECEIVERVERSION].alertTitle,  \"alert\": Changelog[RECEIVERVERSION].alert};\n    this.ctx.sendCustomMessage(CHANNEL , player.id,  json);\n\n\n  }\n\n  sendPassAlongJoinSuccess(player){\n    var json = {\"msg\":\"ADDPLAYER\", \"name\":player.name};\n    this.ctx.sendCustomMessage(CHANNEL , player.id,  json);\n  }\n\n\n  updateDimensions(){\n     this.setState({width: window.innerWidth, height: window.innerHeight});\n  }\n\n  renderSquareLine(line,i){\n    return(\n      <div className=\"line\">\n        {line.map((square, i) => this.renderSquare(square, i))}\n      </div>\n    )\n  }\n  renderSquare(square, i){\n    var isSelected = false;\n    isSelected = square.isSelected;\n    /*if(square.x == cursorLocation[0] && square.y == cursorLocation[1]){\n      isSelected = true;\n    }*/\n    return(\n      <Square square={square} i={i} isSelected={isSelected} strings={strings}></Square>\n    )\n  }\n\n  renderLeftInfo(){\n    return(\n      <div className=\"leftinfo\">\n        <div className=\"title\">\n          {strings.remaining}\n        </div>\n        <div className=\"poolcount\">\n          {this.letterPool.length}\n        </div>\n      </div>\n    );\n  }\n  renderRightInfo(isLobby){\n    var classname = \"rightinfo\";\n    if(isLobby)\n      classname = \"lobbyinfo\";\n\n    var winstring = \"\";\n    var winstringbot = \"\";\n    if(this.state.gameState == 2){\n      var max = 0;\n      var maxindex = new Array();\n      for(var i = 0; i < this.state.players.length; i++){\n        var player = this.state.players[i];\n        if(player.score > max){\n          max = player.score;\n          maxindex = new Array();\n          maxindex.push(i);\n        }\n        else if(player.score == max){\n          maxindex.push(i);\n        }\n      }\n\n      if(maxindex.length == 1){\n        winstring = String.format(strings.winwarning, this.state.players[maxindex[0]].name);\n\n        if(this.state.players[maxindex[0]].name == \"\"){\n          winstring = \"Bot wins!\"\n        }\n      }\n      else{\n        winstring = strings.drawwarning;\n        for(var i = 0; i < maxindex.length; i++){\n          if(this.state.players[maxindex[i]].name == \"\"){\n            winstring += \"Bot\";\n          }else{\n            winstring += this.state.players[maxindex[i]].name;\n          }\n          if(i == maxindex.length -1){\n            winstring += \"!\";\n          }else{\n            winstring += strings.drawand;\n          }\n        }\n\n      }\n    }\n    var noScoreString = \"\";\n    if(this.state.noScoreCount > 1 && this.state.noScoreCount < 6){\n      noScoreString = String.format(strings.noscorewarning,this.state.noScoreCount);\n    }\n    var playersTitle = strings.playerstitle;\n    if(this.state.players.length == 0)\n      playersTitle = strings.waiting;\n    return(\n      <div className={classname}>\n        <div className=\"title\">\n          {playersTitle}\n        </div>\n        <div className=\"players\">\n          {this.state.players.map((player, i) => this.renderPlayer(player, i, isLobby))}\n        </div>\n        <div className=\"wintext\">\n          {winstringbot}{winstring}\n        </div>\n        <div className=\"warning\">\n          {noScoreString}\n        </div>\n      </div>\n    );\n\n  }\n  renderPlayer(player,i, isLobby){\n    var isBorder = \"\";\n    if(i < this.state.players.length-1)\n      isBorder = \" border\";\n    var isActive = \"\";\n    if(i == this.state.curTurn)\n      isActive = \"active\";\n    var name = player.name;\n    if(player.name == \"\"){\n      name =  <img\n  className=\"emoji\"\n  src={robotemoji}/>\n    }\n    if(isLobby){\n      return(\n        <div className={\"player lobby\"}>\n          {name}\n        </div>)\n    }else{\n      return(\n        <div className={\"player\" + isBorder}>\n          <div className={isActive}/>\n          <div className=\"playername\">\n          {name}\n          </div>\n          <div className=\"score\">\n          {player.score}\n          </div>\n        </div>\n      )\n    }\n  }\n\n  renderProgressBar(progress){\n    //PAD PROGRESS A BIT TO UPDATE BEFORE PROCESSING FREEZE\n    var loadingProgress = this.state.loadingProgress + 0.05;\n    if(loadingProgress > 1.0)\n      loadingProgress = 1.0;\n\n    var width = loadingProgress * 200;\n    var language = Distributions[this.state.langIndex].name;\n    var progresstext = String.format(strings.dictloading,language);\n    if(loadingProgress == 1.0){\n      progresstext = String.format(strings.dictprocessing,language);\n    }\n    return(\n      <div className=\"progress\">\n        <div className=\"progressbar\" style={{ 'width': width}}></div>\n        <div className=\"progresstext\">{progresstext}</div>\n        <div className=\"progressbar\" style={{ 'width': width}}></div>\n      </div>\n    )\n  }\n\n\n  render() {\n    var scale = scale = Math.min(this.state.width/360, this.state.height/360);\n\n    if(this.state.gameState > 0){\n      return (\n        <div className=\"App\">\n          <div className=\"box\" >\n            <div className=\"container\" style={{ 'transform': 'scale(' + scale + ')'}}>\n              <div className=\"grid\">\n                <div className=\"fields\">\n                  {this.gameGrid.map((line, i) => this.renderSquareLine(line, i))}\n\n                </div>\n              </div>\n              {this.renderRightInfo(false)}\n              {this.renderLeftInfo()}\n            </div>\n          </div>\n          <img className=\"smalllogo\" src={wordcastlogo} />\n        </div>\n      );\n    }else{\n      if(this.state.isLoadingDict){\n        return (\n          <div className=\"App\">\n            <div className=\"box\" >\n            <div className=\"container\" style={{ 'transform': 'scale(' + scale + ')'}}>\n              <img className=\"logo\" src={wordcastlogo} />\n              {this.renderProgressBar(this.state.loadingProgress)}\n              </div>\n            </div>\n          </div>\n        );\n      }else{\n        return (\n          <div className=\"App\">\n            <div className=\"box\" >\n              <div className=\"container\" style={{ 'transform': 'scale(' + scale + ')'}}>\n                <img className=\"logo\" src={wordcastlogo} />\n                {this.renderRightInfo(true)}\n                <div className=\"boardpreview\">\n                  <div className=\"title\">\n                    {strings.board}\n                  </div>\n                  <div className=\"boardtitle\">\n                    {Boards[this.state.boardIndex].name}\n                  </div>\n                  <div className=\"boardscale\">\n                    {this.gameGrid.map((line, i) => this.renderSquareLine(line, i))}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      }\n    }\n  }\n}\n\nexport class Square extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state={\n    }\n    this.classname = \"square \";\n    this.multiplierText = \"\";\n    this.multiplierNum = \"\";\n\n    if(props.square.type == 1){\n      this.classname += \"letterx2\";\n      this.multiplierText = props.strings.lettertitle;\n      this.multiplierNum = \"x2\";\n    }\n    if(props.square.type == 2){\n      this.classname += \"letterx3\";\n      this.multiplierText = props.strings.lettertitle;\n      this.multiplierNum = \"x3\";\n    }\n    if(props.square.type == 3){\n      this.classname += \"letterx4\";\n      this.multiplierText = props.strings.lettertitle;\n      this.multiplierNum = \"x4\";\n    }\n    if(props.square.type == 4){\n      this.classname += \"wordx2\";\n      this.multiplierText = props.strings.wordtitle;\n      this.multiplierNum = \"x2\";\n    }\n    if(props.square.type == 5){\n      this.classname += \"wordx3\";\n      this.multiplierText = props.strings.wordtitle;\n      this.multiplierNum = \"x3\";\n    }\n    if(props.square.type == 6){\n      this.classname += \"wordx4\";\n      this.multiplierText = props.strings.wordtitle;\n      this.multiplierNum = \"x4\";\n    }\n    /*if(props.square.type == 7){\n      this.classname += \"startsquare\";\n      this.multiplierText = \"Word\";\n      this.multiplierNum = \"x2\";\n    }*/\n    if(props.square.x == 7 && props.square.y == 7){\n        this.classname = \"square startsquare\";\n    }\n\n    this.selected = false;\n    this.isLetter = false;\n    this.isTempLetter = false;\n\n\n  }\n\n  shouldComponentUpdate(nextProps) {\n    var oldSelect = this.selected;\n    this.selected = nextProps.isSelected;\n    if(oldSelect != this.selected){\n      return true;\n    }\n\n\n    if(nextProps.square.letter != null && !this.isLetter){\n      this.isLetter = true;\n      return true;\n    }\n    var isTempLetter = nextProps.square.tempLetter != null;\n    if(isTempLetter != this.isTempLetter){\n      this.isTempLetter = isTempLetter;\n      return true;\n    }\n\n    return false;\n\n  }\n\n\n  render(){\n    this.selected = this.props.isSelected;\n    var value = \"\";\n    var score = \"\";\n    var classname = this.classname;\n    var multiplierclassname = \"\";\n    var letterStyle = \"\";\n    if(this.props.square.letter != null){\n      classname = \"lettercontainer\";\n      value = this.props.square.letter.value;\n      score = this.props.square.letter.score;\n      multiplierclassname = \" hide\";\n      if(this.props.square.letter.score == 0)\n        letterStyle = \" fade\";\n    }\n    else if(this.props.square.tempLetter != null){\n      classname = \"lettercontainertemp\";\n      value = this.props.square.tempLetter.value;\n      score = this.props.square.tempLetter.score;\n      multiplierclassname = \" hide\";\n      if(this.props.square.tempLetter.score == 0)\n        letterStyle = \" fade\";\n    }\n\n    if(this.selected){\n      return(\n        <div className={classname}>\n          <div className={classname + \" selected\"} style={{ 'marginLeft': this.margin}}>\n            <div className={\"multipliertext\" + multiplierclassname}>{this.multiplierText}</div>\n            <div className={\"multipliernum\" + multiplierclassname}>{this.multiplierNum}</div>\n            <div className={\"letter selected\" + letterStyle}>\n              {value}\n              <div className={\"letterscore\"}>\n                {score}\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n    else{\n      return(\n        <div className={classname}>\n          <div className={\"letter\" + letterStyle}>\n            {value}\n            <div className={\"letterscore\"}>\n              {score}\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n\n\n}\n\nexport default App;\n","const data = {\r\n  en:{\r\n    playerdisconnect:\"{0} disconnected\",\r\n    playercancel:\"{0} has cancelled the game!\",\r\n    dictloaded:\"LOADED DICTIONARY\",\r\n    dictfailed:\"LOAD FAILED\",\r\n    swapdeny:\"You can't swap with less than 7 letters left in the pool!\",\r\n    swapmin:\"You must select at least one letter to swap!\",\r\n    tempconnect:\"Word must connect to already existing one!\",\r\n    tempcenter:\"The first word must use the center square!\",\r\n    dualletters:\"You must use the {0} letter instead of {1} and {2} separately!\",\r\n    invalidword:\"{0} is an invalid word!\",\r\n    invalidwords:\"{0} are invalid words!\",\r\n    squareinuse:\"This square is already in use!\",\r\n    tempstraightline:\"You may only place letters in one straight line!\",\r\n    tempconnected:\"All placed letters must be connected!\",\r\n    maxplayers:\"Sorry, the maximum amount of players is 5!\",\r\n    remaining:\"Letters Remaining\",\r\n    drawwarning:\"Draw between \",\r\n    drawand:\" and \",\r\n    winwarning:\"{0} wins!\",\r\n    noscorewarning:\"There have been no points scored in the past {0} turns. The game will end after 6 consecutive turns of no scoring.\",\r\n    waiting:\"Waiting for players...\",\r\n    playerstitle:\"Players\",\r\n    dictloading:\"Loading Dictionary for {0}\",\r\n    dictprocessing:\"Processing Dictionary for {0}\",\r\n    lettertitle:\"Letter\",\r\n    wordtitle:\"Word\",\r\n    board:\"Board\"\r\n  },\r\n  de:{\r\n    playerdisconnect:\"{0} hat das Spiel verlassen\",\r\n    playercancel:\"{0} hat das Spiel abgebrochen!\",\r\n    dictloaded:\"WRTERBUCH GELADEN\",\r\n    dictfailed:\"LADEN ABGEBROCHEN\",\r\n    swapdeny:\"Tauschen nicht mglich, da weniger als 7 Buchstaben brig sind.\",\r\n    swapmin:\"Sie mssen mindestends einen Buchstaben zum Tauschen auswhlen!\",\r\n    tempconnect:\"Gespieltes Wort muss mit einem bereits bestehenden verbunden sein!\",\r\n    tempcenter:\"Das erste Wort muss das mittlere Feld benutzen!\",\r\n    dualletters:\"Sie mssen den {0} Buchstaben benutzen anstatt {1} und {2} separat.\",\r\n    invalidword:\"{0} ist ein ungltiges Wort!\",\r\n    invalidwords:\"{0} sind ungltige Wrter!\",\r\n    squareinuse:\"Dieses Feld wird bereits benutzt!\",\r\n    tempstraightline:\"Sie drfen Buchstaben blo in einer einzigen geraden Linie setzen!\",\r\n    tempconnected:\"Alle gesetzen Buchstaben mssen miteinander verbunden sein!\",\r\n    maxplayers:\"Sorry, die maximale Anzahl and Spielern ist 5!\",\r\n    remaining:\"Verbleibende Buchstaben\",\r\n    drawwarning:\"Unentschieden zwischen \",\r\n    drawand:\" und \",\r\n    winwarning:\"{0} gewinnt!\",\r\n    noscorewarning:\"Es wurden in den letzten {0} Zgen keine Punkte erzielt. Das Spiel endet nach 6 aufeinander folgenden Zgen ohne Punkte.\",\r\n    waiting:\"Es wird auf Spieler gewartet...\",\r\n    playerstitle:\"Spieler\",\r\n    dictloading:\"Lade Wrterbuch fr {0}\",\r\n    dictprocessing:\"Verarbeite Wrterbuch fr {0}\",\r\n    lettertitle:\"Buchst.\",\r\n    wordtitle:\"Wort\",\r\n    board:\"Spielbrett\"\r\n  },\r\n  es:{\r\n    playerdisconnect:\"{0} desconectado\",\r\n    playercancel:\"{0} ha cancelado el juego!\",\r\n    dictloaded:\"DICCIONARIO CARGADO\",\r\n    dictfailed:\"CARGA FALLIDA\",\r\n    swapdeny:\"No se puede intercambiar con menos de 7 letras que quedan en la piscina!\",\r\n    swapmin:\"Debe seleccionar al menos una letra para intercambiar!\",\r\n    tempconnect:\"La palabra debe conectarse a una ya existente!\",\r\n    tempcenter:\"La primera palabra debe usar el cuadrado central!\",\r\n    dualletters:\"Debe utilizar la letra {0} en lugar de {1} y {2} por separado!\",\r\n    invalidword:\"{0} es una palabra invlida!\",\r\n    invalidwords:\"{0} son palabras invlidas!\",\r\n    squareinuse:\"Esta plaza ya est en uso!\",\r\n    tempstraightline:\"Slo puede colocar las letras en una lnea recta!\",\r\n    tempconnected:\"Todas las letras colocadas deben estar conectadas!\",\r\n    maxplayers:\"Lo sentimos, la cantidad mxima de jugadores es de 5!\",\r\n    remaining:\"Cartas restantes\",\r\n    drawwarning:\"Empate entre \",\r\n    drawand:\" y \",\r\n    winwarning:\"{0} gana!\",\r\n    noscorewarning:\"No ha habido puntos anotados en los ltimos {0} turnos. El juego terminar despus de 6 turnos consecutivos de no anotar.\",\r\n    waiting:\"Esperando a los jugadores...\",\r\n    playerstitle:\"Jugadores\",\r\n    dictloading:\"Cargando Diccionario para {0}\",\r\n    dictprocessing:\"Diccionario de procesamiento para {0}\",\r\n    lettertitle:\"Carta\",\r\n    wordtitle:\"Palabra\",\r\n    board:\"Tablero\"\r\n  },\r\n  hr:{\r\n    playerdisconnect:\"{0} se odspojio\",\r\n    playercancel:\"{0} je prekinuo igru!\",\r\n    dictloaded:\"RIJENIK UITAN\",\r\n    dictfailed:\"UITAVANJE NEUSPJELO\",\r\n    swapdeny:\"Nemoete napraviti zamjenu sa manje od 7 rijei u ulogu!\",\r\n    swapmin:\"Morate odabrati bar jedno slovo za zamjenu!\",\r\n    tempconnect:\"Rije mora biti spojena sa ve postojeom!\",\r\n    tempcenter:\"Prva rije mora biti na centralnom polju!\",\r\n    dualletters:\"Morate koristiti {0} slovo, a ne {1} i {2} odvojeno!\",\r\n    invalidword:\"{0} nije ispravna rije!\",\r\n    invalidwords:\"{0} su neispravne rijei!\",\r\n    squareinuse:\"Ovo polje se ve koristi!\",\r\n    tempstraightline:\"Slova moete postavljati samo u jednoj ravnoj liniji!\",\r\n    tempconnected:\"Sva postavljena slova moraju biti spojena!\",\r\n    maxplayers:\"ao nam je, 5 je maksimalan broj igraa!\",\r\n    remaining:\"Preostala slova\",\r\n    drawwarning:\"Pii izmeu \",\r\n    drawand:\" i \",\r\n    winwarning:\"{0} pobjeuje!\",\r\n    noscorewarning:\"Nije bilo bodova zadnjih {0} rundi. Igra e zavriti nakon 6 rundi bez bodova.\",\r\n    waiting:\"ekanje na ostale igrae...\",\r\n    playerstitle:\"Igrai\",\r\n    dictloading:\"Uitavanje Rijenik za {0}\",\r\n    dictprocessing:\"Procesuiram Rijenik za {0}\",\r\n    lettertitle:\"Slovo\",\r\n    wordtitle:\"Rije\",\r\n    board:\"Ploa\"\r\n  }\r\n}\r\nexport {data};\r\n","module.exports = \"data:image/gif;base64,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\"","(function(exports) {\n  exports.BloomFilter = BloomFilter;\n  exports.fnv_1a = fnv_1a;\n\n  var typedArrays = typeof ArrayBuffer !== \"undefined\";\n\n  // Creates a new bloom filter.  If *m* is an array-like object, with a length\n  // property, then the bloom filter is loaded with data from the array, where\n  // each element is a 32-bit integer.  Otherwise, *m* should specify the\n  // number of bits.  Note that *m* is rounded up to the nearest multiple of\n  // 32.  *k* specifies the number of hashing functions.\n  function BloomFilter(m, k) {\n    var a;\n    if (typeof m !== \"number\"){\n      a = m;\n      m = a.length * 32;\n    }\n\n    var n = Math.ceil(m / 32),\n        i = -1;\n    this.m = m = n * 32;\n    this.k = k;\n\n    if (typedArrays) {\n      var kbytes = 1 << Math.ceil(Math.log(Math.ceil(Math.log(m) / Math.LN2 / 8)) / Math.LN2),\n          array = kbytes === 1 ? Uint8Array : kbytes === 2 ? Uint16Array : Uint32Array,\n          kbuffer = new ArrayBuffer(kbytes * k),\n          buckets = this.buckets = new Int32Array(n);\n      if (a) while (++i < n) buckets[i] = a[i];\n      this._locations = new array(kbuffer);\n    } else {\n      var buckets = this.buckets = [];\n      if (a) while (++i < n) buckets[i] = a[i];\n      else while (++i < n) buckets[i] = 0;\n      this._locations = [];\n    }\n  }\n\n  // See http://willwhim.wpengine.com/2011/09/03/producing-n-hash-functions-by-hashing-only-once/\n  BloomFilter.prototype.locations = function(v) {\n    var k = this.k,\n        m = this.m,\n        r = this._locations,\n        a = fnv_1a(v),\n        b = fnv_1a(v, 1576284489), // The seed value is chosen randomly\n        x = a % m;\n    for (var i = 0; i < k; ++i) {\n      r[i] = x < 0 ? (x + m) : x;\n      x = (x + b) % m;\n    }\n    return r;\n  };\n\n  BloomFilter.prototype.add = function(v) {\n    var l = this.locations(v + \"\"),\n        k = this.k,\n        buckets = this.buckets;\n    for (var i = 0; i < k; ++i) buckets[Math.floor(l[i] / 32)] |= 1 << (l[i] % 32);\n  };\n\n  BloomFilter.prototype.test = function(v) {\n    var l = this.locations(v + \"\"),\n        k = this.k,\n        buckets = this.buckets;\n    for (var i = 0; i < k; ++i) {\n      var b = l[i];\n      if ((buckets[Math.floor(b / 32)] & (1 << (b % 32))) === 0) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  // Estimated cardinality.\n  BloomFilter.prototype.size = function() {\n    var buckets = this.buckets,\n        bits = 0;\n    for (var i = 0, n = buckets.length; i < n; ++i) bits += popcnt(buckets[i]);\n    return -this.m * Math.log(1 - bits / this.m) / this.k;\n  };\n\n  // Turns the bloom filter into a buffer for later storage.\n  BloomFilter.prototype.serialize = function() {\n    // The format is the number of hashes as a uint16, followed by the buckets\n    // data as big endian int32's\n    var bucketLen = this.buckets.length,\n      target = new Buffer((bucketLen << 2) + 2);\n    target.writeUInt16BE(this.k, 0);\n\n    for (var i = 0; i < bucketLen; ++i) {\n      target.writeInt32BE(this.buckets[i], (i << 2) + 2);\n    }\n\n    return target;\n  };\n\n  // Parses a buffer created by a previous call to .serialize into a BloomFilter\n  BloomFilter.deserialize = function(data) {\n    var hashes = data.readUInt16BE(0),\n      count = (data.length - 2) >> 2,\n      buckets = typedArrays ? new Int32Array(count) : new Array(count);\n\n    for (var i = 0; i < count; ++i) {\n      buckets[i] = data.readInt32BE((i << 2) + 2);\n    }\n\n    return new BloomFilter(buckets, hashes);\n  };\n\n  BloomFilter.bytesToString = function(arr) {\n  var out = '';\n  for (let i = 0; i < arr.length; i += 2) {\n    out += String.fromCharCode((arr[i] << 8) | arr[i + 1]);\n  }\n  return out;\n}\n\n  BloomFilter.stringToBytes = function(str) {\n    const arr = new Uint8Array(str.length * 2);\n    for (let i = 0; i < str.length; i++) {\n      //let code = String.fromCharCode(str[i]);\n      let code = str.charCodeAt(i);\n      arr[i * 2 + 0] = code >> 8;\n      arr[i * 2 + 1] = code;\n    }\n    return arr;\n  }\n\n  BloomFilter.stringToBytes16 = function(str) {\n    const arr = new Uint16Array(str.length);\n    for (let i = 0; i < str.length; i++) {\n      let code = String.fromCharCode(str[i]);\n      arr[i] = code;\n    }\n    return arr;\n  }\n\n  // http://graphics.stanford.edu/~seander/bithacks.html#CountBitsSetParallel\n  function popcnt(v) {\n    v -= (v >> 1) & 0x55555555;\n    v = (v & 0x33333333) + ((v >> 2) & 0x33333333);\n    return ((v + (v >> 4) & 0xf0f0f0f) * 0x1010101) >> 24;\n  }\n\n  // Fowler/Noll/Vo hashing.\n  // Nonstandard variation: this function optionally takes a seed value that is incorporated\n  // into the offset basis. According to http://www.isthe.com/chongo/tech/comp/fnv/index.html\n  // \"almost any offset_basis will serve so long as it is non-zero\".\n  function fnv_1a(v, seed) {\n    var a = 2166136261 ^ (seed || 0);\n    for (var i = 0, n = v.length; i < n; ++i) {\n      var c = v.charCodeAt(i),\n          d = c & 0xff00;\n      if (d) a = fnv_multiply(a ^ d >> 8);\n      a = fnv_multiply(a ^ c & 0xff);\n    }\n    return fnv_mix(a);\n  }\n\n  // a * 16777619 mod 2**32\n  function fnv_multiply(a) {\n    return a + (a << 1) + (a << 4) + (a << 7) + (a << 8) + (a << 24);\n  }\n\n  // See https://web.archive.org/web/20131019013225/http://home.comcast.net/~bretm/hash/6.html\n  function fnv_mix(a) {\n    a += a << 13;\n    a ^= a >>> 7;\n    a += a << 3;\n    a ^= a >>> 17;\n    a += a << 5;\n    return a & 0xffffffff;\n  }\n})(typeof exports !== \"undefined\" ? exports : this);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/wordcastlogo_white.c4dcc4ed.svg\";"],"sourceRoot":""}